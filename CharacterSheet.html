<!DOCTYPE html>
<input type="radio" name="attr_tab" class="sheet-tab sheet-tab1" value="1" checked="checked"/><span>Character Sheet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<input type="radio" name="attr_tab" class="sheet-tab sheet-tab2" value="2"/><span>Simplified Combat Sheet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<input type="radio" name="attr_tab" class="sheet-tab sheet-tab9" value="3"/><span>Monster Sheet</span>
<br />

<!-- CHARACTER SHEET TAB -->
<div name="Character Sheet Tab" class="sheet-tab-content sheet-tab1">
  <div name="Character Bio">
    <div class="sheet-2colrow">
      <div class="sheet-col">
        <br/>
        <table style="width:300px;">
          <tr>
            <td><h4>Name:</h4><input type="text" name="attr_character_name" class="sheet-generic"></td>
            <td><span>Class:</span><br /><input type="text" name="attr_class" class="sheet-generic"/></td>
          </tr>
          <tr>
            <td><span>Level:&nbsp;&nbsp;Experience:</span><br /><input type="text" name="attr_level" style="width: 40px"/><input type="text" name="attr_experience" style="width: 125px"/></td>
            <td><span>Kit:</span><br /><input type="text" name="attr_kit" class="sheet-generic"/></td>
          </tr>
          <tr>
            <td><span>Race:</span><br /><input type="text" name="attr_race" class="sheet-generic"/></td>
            <td><span>Alignment:</span><br /><input type="text" name="attr_alignment" class="sheet-generic"/></td>
          </tr>
          <tr>
            <td><hr></td>
            <td><hr></td>
          </tr>
          <tr>
            <td><b>Attack Bonus:<input type="number" name="attr_PC_ATKBONUS" class="sheet-short" value="0"/></b> <br />
                <b>HP:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" name="attr_HP" class="sheet-short" value=""/>/<input type="text" name="attr_HP_max" class="sheet-short" /></b>
            </td>
            <td><b>AC:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" name="attr_AC" class="sheet-short" /></b>   <br />
                <b>AC Surprised:&nbsp;<input type="text" name="attr_ACsurprise" class="sheet-short" /></b>   <br />
                <b>AC Shieldless:<input type="text" name="attr_ACshieldless" class="sheet-short" /></b>
            </td>
          </tr>
        </table>
        <span>Armor Type:</span><br />
        <textarea name="attr_armtype" class="sheet-half-page-textbox-thin"></textarea>

        <table>
          <tr>
            <td><hr></td>
            <td><hr></td>
            <td><hr></td>            
            <td><hr></td>
            <td><hr></td>
            <td><hr></td>
          </tr>
          <tr>
            <td><b>Height:</b></td>
            <td><input type="text" name="attr_Height" class="sheet-short"/></td>
            <td><b>&nbsp;Starting Age:</b></td>
            <td><input type="text" name="attr_Age" class="sheet-short"/></td>
            <td><b>&nbsp;Magical Aging:</b></td>
            <td><input type="text" name="attr_magical_aging" class="sheet-short"></td>
          </tr>
          <tr>
            <td><b>Weight:</b></td>
            <td><input type="text" name="attr_Weight" class="sheet-short"/></td>
            <td><b>&nbsp;Birthday:</b></td>
            <td><input type="text" name="attr_birthday" class="sheet-short" placeholder="xx/xx"/></td>
            <td><b>&nbsp;Current Age:</b></td>
            <td><input type="text" name="attr_current_age" class="sheet-short"/></td>
          </tr>
        </table>
        <table>
          <tr><td><b>Handedness:<input type="text" name="attr_Handedness" class="sheet-generic" placeholder="1-8=right, 9=left, 10=ambi"/></b></td></tr>
        </table>
      </div>
      <div class="sheet-col">
        <h4>Saving Throws</h4>
        <table style="border-collapse: collapse; border-spacing: 0;">
          <tr>
            <th class="bluetable"> </th>
            <th class="bluetable">Target</th>
            <th class="bluetable">Mod</th>
            <th class="bluetable">Notes</th>
          </tr>
          <tr>
            <th class="bluetable">Paralyzation,<br />Poison, Death</th>
            <td><input type="number" name="attr_partar" class="sheet-short"/></td>
            <td><input type="number" name="attr_parmod" class="sheet-short" value="0"/></td>
            <td><input type="text" name="attr_parnotes" class="sheet-generic"/><button type="roll" name="roll_parsave" class="sheet-d20-dark" value="/roll {1d20+@{parmod}+@{temp_saving_throws}[Temp]}>@{partar} save vs. Paralyzation, Poison, Death Magic"></button></td>
          </tr>
          <tr>
            <th class="bluetable">Rod, Staff,<br />or Wand</th>
            <td><input type="number" name="attr_rodtar" class="sheet-short"/></td>
            <td><input type="number" name="attr_rodmod" class="sheet-short" value="0"/></td>
            <td><input type="text" name="attr_rodnotes" class="sheet-generic"/><button type="roll" name="roll_rodsave" class="sheet-d20-dark" value="/roll {1d20+@{rodmod}+@{temp_saving_throws}[Temp]}>@{rodtar} save vs. Rod, Staff, or Wand"></button></td>
          </tr>
          <tr>
            <th class="bluetable">Petrification<br />Polymorph</th>
            <td><input type="number" name="attr_pettar" class="sheet-short"/></td>
            <td><input type="number" name="attr_petmod" class="sheet-short" value="0"/></td>
            <td><input type="text" name="attr_petnotes" class="sheet-generic"/><button type="roll" name="roll_petsave" class="sheet-d20-dark" value="/roll {1d20+@{petmod}+@{temp_saving_throws}[Temp]}>@{pettar} save vs. Petrification or Polymorph"></button></td>
          </tr>
          <tr>
            <th class="bluetable">Breath<br />Weapon</th>
            <td><input type="number" name="attr_breathtar" class="sheet-short"/></td>
            <td><input type="number" name="attr_breathmod" class="sheet-short" value="0"/></td>
            <td><input type="text" name="attr_breathnotes" class="sheet-generic"/><button type="roll" name="roll_breathsave" class="sheet-d20-dark" value="/roll {1d20+@{breathmod}+@{temp_saving_throws}[Temp]}>@{breathtar} save vs. Breath Weapon"></button></td>
          </tr>
          <tr>
            <th class="bluetable">Spell</th>
            <td><input type="number" name="attr_sptar" class="sheet-short"/></td>
            <td><input type="number" name="attr_spmod" class="sheet-short" value="0"/></td>
            <td><input type="text" name="attr_spnotes" class="sheet-generic"/><button type="roll" name="roll_spsave" class="sheet-d20-dark" value="/roll {1d20+@{spmod}+@{temp_saving_throws}[Temp]}>@{sptar} save vs. Spell"></button></td>
          </tr>
        </table>

        <br />
        <h4>Player notes</h4>
        <textarea name="attr_pnotes" class="sheet-half-page-textbox" placeholder="Bless: +1 attack, +1 save against fear&#10;Chant: +1 attack, +1 damage, +1 saving throws, (-1 enemy)&#10;Prayer: +1 attack, +1 damage, +1 saving throws&#10;Recitation: +2 attack, +2 saving throws, (+3 for same faith)"></textarea>

        <br />
        <h4>Experience Log</h4>
        <input type="radio" name="attr_tab2" class="sheet-tab sheet-tab0" value="0" checked="checked"/><span>Hide Log&nbsp;&nbsp;</span>
        <input type="radio" name="attr_tab2" class="sheet-tab sheet-tab3" value="1"/><span>Class A Log&nbsp;&nbsp;</span>
        <input type="radio" name="attr_tab2" class="sheet-tab sheet-tab4" value="2"/><span>Class B Log&nbsp;&nbsp;</span>
        <input type="radio" name="attr_tab2" class="sheet-tab sheet-tab5" value="3"/><span>Old System</span><br />

        <div class="sheet-tab-content sheet-tab3">
          <fieldset name="repeating_experienceA" class="repeating_experienceA">
            <input type="text" name="attr_xp_item_amountA" style="width: 4.5em" placeholder="XP"><input type="text" name="attr_xp_item_descriptionA" style="width: 24em" placeholder="How was it earned?">
          </fieldset>
          <br/>
          <span>Total:</span><input type="text" name="attr_xp_item_totalA" style="width: 4.5em; cursor: pointer;" value="0" readonly>
          <span>Total with <input type="number" name="attr_xp_prime_requisite_multiplierA" value="10" class="sheet-tinier">% bonus: <input type="text" name="attr_xp_prime_requisite_totalA" style="width: 4.5em; cursor: pointer;" value="0" readonly></span>
        </div>

        <div class="sheet-tab-content sheet-tab4">
          <fieldset name="repeating_experienceB" class="repeating_experienceB">
            <input type="text" name="attr_xp_item_amountB" style="width: 4.5em" placeholder="XP"><input type="text" name="attr_xp_item_descriptionB" style="width: 24em" placeholder="How was it earned?">
          </fieldset>
          <br/>
          <span>Total:</span><input type="text" name="attr_xp_item_totalB" style="width: 4.5em; cursor: pointer;" value="0" readonly>
          <span>Total with <input type="number" name="attr_xp_prime_requisite_multiplierB" value="10" class="sheet-tinier">% bonus: <input type="text" name="attr_xp_prime_requisite_totalB" style="width: 4.5em; cursor: pointer;" value="0" readonly></span>
        </div>

        <div class="sheet-tab-content sheet-tab5">
          <fieldset class="repeating_XP" name="attr_repxp">
            <table>
              <tr>
                <td><b>Class:<br /><input type="text" name="attr_expclassname"></b></td>
              </tr>
              <tr>
                <td><b>Current Exp:<br /><input type="text" name="attr_expcurrent1"></b></td>
                <td><b>Gained Exp:<br /><input type="text" name="attr_expgain1"></b></td>
              </tr>
              <tr>
                <td><b>New Exp Total:<br /><input type="text" name="attr_expnew" value="@{expcurrent1}+@{expgain1}" disabled="true"></b></td>
                <td><b>Prime Req Exp Total:<br /><input type="text" name="attr_expprime" value="@{expcurrent1}+(@{expgain1}*(1+(@{prime1}/100)))" disabled="true"></b></td>
              </tr>
              <tr>
                <td><b>Prime Requisite Bonus:</b><br /><input type="text" name="attr_prime1" class="sheet-short" value="10">%</td>
              </tr>
            </table>
          </fieldset>
        </div>
      </div>
    </div>
    <hr>
  </div>

  <div name="Ability Scores">
    <h4>Ability Scores</h4>
    <table style="border-collapse: collapse; border-spacing: 0;">
        <tr>
            <th class="bluetable"></th>
            <th class="bluetable">Score</th>
            <th class="bluetable">Hit Bonus</th>
            <th class="bluetable">Damage Adj.</th>
            <th class="bluetable">Weight Allow.</th>
            <th class="bluetable">Max. Press</th>
            <th class="bluetable">Open Door</th>
            <th class="bluetable">Bend Bars,<br />Lift Gate</th>
        </tr>
        <tr>
            <th class="bluetable">Strength<button type="roll" name="roll_strcheck" class="sheet-d20-dark" value="/roll {1d20+[[@{Strength}?{Misc. bonus (please include + or -)|+0}]]}>[[20]] [Strength Ability Check]" style="float: right;"></button></th>
            <td><input type="text" name="attr_Strength" class="sheet-short" value=""/></td>
            <td><input type="text" name="attr_strengthhit" class="sheet-short" value="+0"/></td>
            <td><input type="text" name="attr_strengthdmg" class="sheet-short" value="+0"/></td>
            <td><input type="text" name="attr_carryweight" class="sheet-short"  value="0"/></td>
            <td><input type="text" name="attr_maxpress" class="sheet-short"  value="0"/></td>
            <td><input type="text" name="attr_open" class="sheet-short" value="0"/></td>
            <td><input type="text" name="attr_bend" class="sheet-short" value="0"/>%</td>
        </tr>
        <tr>
            <th class="bluetable"></th>
            <th class="bluetable">Score</th>
            <th class="bluetable">Reaction Adj.</th>
            <th class="bluetable">Missile Atk Adj</th>
            <th class="bluetable">AC Adjust</th>
            <th class="bluetable"></th>
            <th class="bluetable"></th>
            <th class="bluetable"></th>
        </tr>
        <tr>
            <th class="bluetable">Dexterity<button type="roll" name="roll_dexcheck" class="sheet-d20-dark" value="/roll {1d20+[[@{Dexterity}?{Misc. bonus (please include + or -)|+0}]]}>[[20]] [Dexterity Ability Check]" style="float: right;"></button></th>
            <td><input type="text" name="attr_Dexterity" class="sheet-short" value=""/></td>
            <td><input type="text" name="attr_dexreact" class="sheet-short" value="+0"/></td>
            <td><input type="text" name="attr_dexmissile" class="sheet-short" value="+0"/></td>
            <td><input type="text" name="attr_dexdefense" class="sheet-short" value="+0"/></td>
        </tr>
        <tr>
            <th class="bluetable"></th>
            <th class="bluetable">Score</th>
            <th class="bluetable">Bonus HP/lvl</th>
            <th class="bluetable">System Shock</th>
            <th class="bluetable">Resurrection</th>
            <th class="bluetable">Poison Save</th>
            <th class="bluetable">Regeneration</th>
            <th class="bluetable"></th>
        </tr>
        <tr>
            <th class="bluetable">Constitution<button type="roll" name="roll_concheck" class="sheet-d20-dark" value="/roll {1d20+[[@{Constitution}?{Misc. bonus (please include + or -)|+0}]]}>[[20]] [Constitution Ability Check]" style="float: right;"></button></th>
            <td><input type="text" name="attr_Constitution" class="sheet-short" value=""/></td>
            <td><input type="text" name="attr_conadj" class="sheet-short" value="+0"/></td>
            <td><input type="text" name="attr_conshock" class="sheet-short" value="0"/></td>
            <td><input type="text" name="attr_conres" class="sheet-short" value="0"/>%</td>
            <td><input type="text" name="attr_conpoisonbonus" class="sheet-short" value="+0"/></td>
            <td><input type="text" name="attr_conregen" class="sheet-short" value="0"/></td>
        </tr>
        <tr>
            <th class="bluetable"></th>
            <th class="bluetable">Score</th>
            <th class="bluetable"># Languages</th>
            <th class="bluetable">Max Spell Level</th>
            <th class="bluetable">Learn Spell</th>
            <th class="bluetable">Max # of Spells</th>
            <th class="bluetable"> </th>
            <th class="bluetable"> </th>
        </tr>
        <tr>
            <th class="bluetable">Intelligence<button type="roll" name="roll_intcheck" class="sheet-d20-dark" value="/roll {1d20+[[@{Intelligence}?{Misc. bonus (please include + or -)|+0}]]}>[[20]] [Intelligence Ability Check]" style="float: right;"></button></th>
            <td><input type="text" name="attr_Intelligence" class="sheet-short" value=""/></td>
            <td><input type="text" name="attr_intlang" class="sheet-short" value="0"/></td>
            <td><input type="text" name="attr_intlvl" class="sheet-short" value="0"/></td>
            <td><input type="text" name="attr_intchance" class="sheet-short" value="0"/>%</td>
            <td><input type="text" name="attr_intmax" class="sheet-short" value="0"/></td>
            <td> </td>
            <td ></td>
        </tr>
        <tr>
            <th class="bluetable"></th>
            <th class="bluetable">Score</th>
            <th class="bluetable">Mind Defense</th>
            <th class="bluetable">Bonus Spells</th>
            <th class="bluetable">Spell Failure</th>
            <th class="bluetable"> </th>
            <th class="bluetable"> </th>
            <th class="bluetable"> </th>
        </tr>
        <tr>
            <th class="bluetable">Wisdom<button type="roll" name="roll_wischeck" class="sheet-d20-dark" value="/roll {1d20+[[@{Wisdom}?{Misc. bonus (please include + or -)|+0}]]}>[[20]] [Wisdom Ability Check]" style="float: right;"></button></th>
            <td><input type="text" name="attr_Wisdom" class="sheet-short" value=""/></td>
            <td><input type="text" name="attr_wisdef" class="sheet-short" value="+0"/></td>
            <td><input type="text" name="attr_wisbonus" class="sheet-short" value="None"/></td>
            <td><input type="text" name="attr_wisfail" class="sheet-short" value="0"/>%</td>
            <td> </td>
            <td> </td>
            <td> </td>
        </tr>
        <tr>
            <th class="bluetable"></th>
            <th class="bluetable">Score</th>
            <th class="bluetable">Max # Hench</th>
            <th class="bluetable">Base Loyalty</th>
            <th class="bluetable">Reaction Adj</th>
            <th class="bluetable"> </th>
            <th class="bluetable"> </th>
            <th class="bluetable"> </th>
        </tr>
        <tr>
            <th class="bluetable">Charisma<button type="roll" name="roll_chacheck" class="sheet-d20-dark" value="/roll {1d20+[[@{Charisma}?{Misc. bonus (please include + or -)|+0}]]}>[[20]] [Charisma Ability Check]" style="float: right;"></button></th>
            <td><input type="text" name="attr_Charisma" class="sheet-short" value=""/></td>
            <td><input type="text" name="attr_chamax" class="sheet-short" value="0"/></td>
            <td><input type="text" name="attr_chaloy" class="sheet-short" value="+0"/></td>
            <td><input type="text" name="attr_chareact" class="sheet-short" value="+0"/></td>
            <td> </td>
            <td> </td>
            <td> </td>
        </tr>
    </table>

    <br />
    <span>Ability Notes</span>
    <br/>
    <textarea name="attr_statnotes" class="sheet-full-page-textbox" placeholder="Dwarves get +1 CON, -1 CHA. Elves get +1 DEX, -1 CON. Gnomes get +1 INT, -1 WIS. Halflings get +1 DEX, -1 STR."></textarea>
    <hr>
  </div>

  <div name="Temporary Buffs">
      <div class="sheet-2colrow">
        <div class="sheet-col">
          <h4>Temporary Buffs</h4>
          <table>
            <tr>
              <th class="sheet-center">Attack</th>
              <th class="sheet-center">Damage</th>
              <th class="sheet-center">Initiative</th>
              <th class="sheet-center">Saving<br/>Throws</th>
              <th class="sheet-center">Ability<br/>Checks</th>
            </tr>
            <tr>
              <td><input type="text" name="attr_temp_attack" class="sheet-mid sheet-center" value="0"></td>
              <td><input type="text" name="attr_temp_damage" class="sheet-mid sheet-center" value="0"></td>
              <td><input type="text" name="attr_temp_initiative" class="sheet-mid sheet-center" value="0"></td>
              <td><input type="text" name="attr_temp_saving_throws" class="sheet-mid sheet-center" value="0"></td>
              <td><input type="text" name="attr_temp_ability_checks" class="sheet-mid sheet-center" value="0"></td>
            </tr>
          </table>
        </div>
        <div class="sheet-col">
          <table>
            <tr>
              <th>
                <input type="checkbox" name="attr_temp_bless" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Bless</span>
              </th>
              <th>
                <input type="checkbox" name="attr_temp_bard_attack" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Bard Attack</span>
              </th>
              <th>
                <input type="checkbox" name="attr_temp_haste" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Haste</span>              
              </th>
            </tr>
            <tr>
              <th>
                <input type="checkbox" name="attr_temp_chant" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Chant</span>
              </th>
              <th>
                <input type="checkbox" name="attr_temp_bard_save" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Bard Saves</span>
              </th>
              <th>
                <input type="checkbox" name="attr_temp_faerie_fire" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Faerie Fire </span><select name="attr_temp_faerie_fire_bonus" class="sheet-tiny" style="height:19.2px; padding-top:0; padding-bottom:0;">
                                          <option value="1">1</option><option value="2">2</option></select>
              </th>
            </tr>
            <tr>
              <th>
                <input type="checkbox" name="attr_temp_prayer" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Prayer</span>
              </th>
              <th>
                <input type="checkbox" name="attr_temp_aid" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Aid</span>
              </th>
              <th>
                <input type="checkbox" name="attr_temp_enlarge" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Enlarge </span><select name="attr_temp_enlarge_level" class="sheet-tiny" style="height:19.2px; padding-top:0; padding-bottom:0; float:right;">
                                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option>
                                      <option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option>
                                      <option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option>
                                      <option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option>
                                    </select>
                <input type="number" name="attr_enlarge_bonus" value="1" style="display: none;">
              </th>
            </tr>
            <tr>
              <th>
                <input type="checkbox" name="attr_temp_recitation" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Recitation</span>
              </th>
              <th></th>
              <th></th>
            </tr>
          </table>
        </div>
      </div>
    <hr>
  </div>

  <div name="Weapons">
    <h4>Weapons</h4>
    <table style="border-collapse: collapse; border-spacing: 0;">
        <tr>
            <th class="bluetable">Weapon</th>
            <th class="bluetable"># Atks</th>
            <th class="bluetable">Atk +</th>
            <th class="bluetable">Dam +</th>
            <th class="bluetable">Swing</th>
            <th class="bluetable">Dam SM</th>
            <th class="bluetable">Dam L</th>
            <th class="bluetable">Range</th>
            <th class="bluetable">Size</th>
            <th class="bluetable">Type</th>
            <th class="bluetable">Speed</th>
        </tr>
        <tr>
            <td><input type="text" name="attr_weaponname" class="sheet-cool-name"></td>
            <td><input type="text" name="attr_attacknum" class="sheet-short"></td>
            <td><input type="text" name="attr_attackadj" class="sheet-short" value="+0"></td>
            <td><input type="text" name="attr_damadj" class="sheet-short" value="+0"></td>
            <td><button type="roll" name="roll_hit1" class="sheet-d20-dark" value="/em hits AC [[1d20+(@{PC_ATKBONUS}[Level])+(@{attackadj}[Atk Adjust])+(@{strengthhit}[Str Bonus])+(@{temp_attack}[Temp])]] with @{weaponname}">Hit</button></td>
            <td><input type="text" name="attr_damsm" class="sheet-short"><button type="roll" name="roll_damsm" class="sheet-d8-dark" value="/em rolls [[@{damsm}*@{enlarge_bonus}[Enlarge]+(@{damadj})[Dmg Adj]+(@{strengthdmg})[Str Adj]+@{temp_damage}[Temp]]] damage with @{weaponname}!"></button></td>
            <td><input type="text" name="attr_daml" class="sheet-short"><button type="roll" name="roll_daml" class="sheet-d12-dark" value="/em rolls [[@{daml}*@{enlarge_bonus}[Enlarge]+(@{damadj})[Dmg Adj]+(@{strengthdmg})[Str Adj]+@{temp_damage}[Temp]]] damage with @{weaponname}!"></button></td>
            <td><input type="text" name="attr_range" class="sheet-mid2"></td>
            <td><input type="text" name="attr_weapsize" class="sheet-tiny"></td>
            <td><input type="text" name="attr_Weaptype" class="sheet-tiny"></td>
            <td><input type="number" name="attr_weapspeed" class="sheet-tiny"><button type="roll" name="roll_init" class="sheet-d10-dark" value="/em rolls [[d10+@{weapspeed}+@{temp_initiative}[Temp]&{tracker}]] for initiative with @{weaponname}"></button></td>
        </tr>
    </table>
    <fieldset name="repeating_weapons" class="repeating_weapons">
        <table style="border-collapse: collapse; border-spacing: 0;">
            <tr>
                <td><input type="text" name="attr_weaponname" class="sheet-cool-name"></td>
                <td><input type="text" name="attr_attacknum" class="sheet-short"></td>
                <td><input type="text" name="attr_attackadj" class="sheet-short" value="+0"></td>
                <td><input type="text" name="attr_damadj" class="sheet-short" value="+0"></td>
                <td><button type="roll" name="roll_hit1" class="sheet-d20-dark" value="/em hits AC [[1d20+(@{PC_ATKBONUS}[Level])+(@{attackadj}[Atk Adjust])+(@{strengthhit}[Str Bonus])+(@{temp_attack}[Temp])]] with @{weaponname}">Hit</button></td>
                <td><input type="text" name="attr_damsm" class="sheet-short"><button type="roll" name="roll_damsm" class="sheet-d8-dark" value="/em rolls [[@{damsm}*@{enlarge_bonus}[Enlarge]+(@{damadj})[Dmg Adj]+(@{strengthdmg})[Str Adj]+@{temp_damage}[Temp]]] damage with @{weaponname}!"></button></td>
                <td><input type="text" name="attr_daml" class="sheet-short"><button type="roll" name="roll_daml" class="sheet-d12-dark" value="/em rolls [[@{daml}*@{enlarge_bonus}[Enlarge]+(@{damadj})[Dmg Adj]+(@{strengthdmg})[Str Adj]+@{temp_damage}[Temp]]] damage with @{weaponname}!"></button></td>
                <td><input type="text" name="attr_range" class="sheet-mid2"></td>
                <td><input type="text" name="attr_weapsize" class="sheet-tiny"></td>
                <td><input type="text" name="attr_weaptype" class="sheet-tiny"></td>
                <td><input type="number" name="attr_weapspeed" class="sheet-tiny"><button type="roll" name="roll_init" class="sheet-d10-dark" value="/em rolls [[d10+@{weapspeed}+@{temp_initiative}[Temp]&{tracker}]] for initiative with @{weaponname}"></button></td>
            </tr>
        </table>
    </fieldset>
    <br /><span>Weapon Notes</span><br/>
    <textarea name="attr_weaponnotes" class="sheet-full-page-textbox"></textarea>
    <hr>
  </div>

  <div name="Spells">
    <h4>Spells</h4>
    <input type="radio" name="attr_tab4" class="sheet-tab sheet-tab7" value="1" checked="checked"> <span class="span">Show Spells</span>
    <input type="radio" name="attr_tab4" class="sheet-tab sheet-tab0" value="2"> <span>Hide Spells</span><br />
    <div class="sheet-tab-content sheet-tab7">
        <table style="border-collapse: collapse; border-spacing: 0;">
            <tr>
                <th class="bluetable">Spell</th>
                <th class="bluetable">School/Sphere</th>
                <th class="bluetable">Roll</th>
                <th class="bluetable">Description</th>
                <th class="bluetable">Speed</th>
            </tr>
            <tr>
                <td><input type="text" name="attr_spell_name" class="sheet-cool-name"></td>
                <td><input type="text" name="attr_spell_school" class="sheet-spell-school-sphere"></td>
                <td><input type="text" name="attr_spell_roll" class="sheet-short"><button type="roll" name="roll_spell" class="sheet-spell-dark" value="/em rolls [[@{spell_roll}]] with @{spell_name}!"></button></td>
                <td><input type="text" name="attr_spell_description" class="sheet-long"></td>
                <td><input type="text" name="attr_spell_speed" class="sheet-tiny"><button type="roll" name="roll_spell_speed" class="sheet-d10-dark" value="/em rolls [[d10+@{spell_speed}&{tracker}]] for initiative with @{spell_name}"></button></td>
            </tr>
        </table>
        <fieldset name="repeating_spells" class="repeating_spells">
            <table style="border-collapse: collapse; border-spacing: 0;">
                <td><input type="text" name="attr_spell_name" class="sheet-cool-name"></td>
                <td><input type="text" name="attr_spell_school" class="sheet-spell-school-sphere"></td>
                <td><input type="text" name="attr_spell_roll" class="sheet-short"><button type="roll" name="roll_spell" class="sheet-spell-dark" value="/em rolls [[@{spell_roll}]] with @{spell_name}!"></button></td>
                <td><input type="text" name="attr_spell_description" class="sheet-long"></td>
                <td><input type="text" name="attr_spell_speed" class="sheet-tiny"><button type="roll" name="roll_spell_speed" class="sheet-d10-dark" value="/em rolls [[d10+@{spell_speed}&{tracker}]] for initiative with @{spell_name}"></button></td>
            </table>
        </fieldset>
        <br/>
        <div class="sheet-2colrow">
            <div class="sheet-col">
              <input type="radio" name="attr_tab7" class="sheet-tab sheet-tab13" value="1" checked="checked"> <span class="span">Spellbook&nbsp;&nbsp;&nbsp;</span>
              <input type="radio" name="attr_tab7" class="sheet-tab sheet-tab14" value="2"> <span>Loadout 1&nbsp;&nbsp;&nbsp;</span>
              <input type="radio" name="attr_tab7" class="sheet-tab sheet-tab15" value="3"> <span>Loadout 2&nbsp;&nbsp;&nbsp;</span>
              <input type="radio" name="attr_tab7" class="sheet-tab sheet-tab16" value="4"> <span>Loadout 3</span>
              <div class="sheet-tab-content sheet-tab13">
                <textarea name="attr_spellbook" class="sheet-half-page-textbox" placeholder="Spells you have access to which aren't listed above"></textarea>
              </div>
              <div class="sheet-tab-content sheet-tab14">
                <textarea name="attr_spell_loadout_1" class="sheet-half-page-textbox" placeholder="You can setup common spell loadouts here which you paste into Spells Memorized at the start of the day"></textarea>
              </div>
              <div class="sheet-tab-content sheet-tab15">
                <textarea name="attr_spell_loadout_2" class="sheet-half-page-textbox" placeholder="You can setup common spell loadouts here which you paste into Spells Memorized at the start of the day"></textarea>
              </div>
              <div class="sheet-tab-content sheet-tab16">
                <textarea name="attr_spell_loadout_3" class="sheet-half-page-textbox" placeholder="You can setup common spell loadouts here which you paste into Spells Memorized at the start of the day"></textarea>
              </div>
            </div>
            <div class="sheet-col">
                <span>Spells Memorized:</span><br />
                <textarea name="attr_spells_memorized" class="sheet-half-page-textbox" placeholder="I recommend committing one row to each spell level for clarity!&#10;1x Magic Missile, 1x Color Spray&#10;1x Mirror Image"></textarea><br/>
                <button type="roll" name="send_spells_memorized" class="sheet-book-dark" value="Spells memorized today:\n@{spells_memorized}">&nbsp;Share memorized spells to chat</button>
            </div>
        </div>
    </div>
    <hr>
  </div>

  <div name="Rogue Skills">
      <h4>Rogue Skills</h4>
      <input type="radio" name="attr_tab5" class="sheet-tab sheet-tab9" value="1" checked="checked"> <span>Show Rogue Skills</span>
      <input type="radio" name="attr_tab5" class="sheet-tab sheet-tab0" value="2"> <span>Hide Rogue Skills</span><br />
      <div class="sheet-tab-content sheet-tab9">
          <span><strong>Backstab Multiplier:</strong></span>
          <select name="attr_backstab_multiplier" style="width: 150px;">
            <option value="0">1x: (Not a thief)</option>
            <option value="2">2x: Thief level 1-4</option>
            <option value="3">3x: Thief level 5-8</option>
            <option value="4">4x: Thief level 9-12</option>
            <option value="5">5x: Thief level 13+</option>
          </select>

          <table style="border-collapse: collapse; border-spacing: 0;">
              <tr>
                  <th class="bluetable">Skill</th>
                  <th class="bluetable">Base</th>
                  <th class="bluetable">Race</th>
                  <th class="bluetable">Dex</th>
                  <th class="bluetable">Armor</th>
                  <th class="bluetable">Level</th>
                  <th class="bluetable">Total</th>
                  <th class="bluetable">Make Check</th>
              </tr>
              <tr>
                  <th class="bluetable">Pick Pockets</th>
                  <td><input type="text" name="attr_ppb" value="15" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_ppr" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_ppd" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_ppa" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_ppl" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_ppt" value="@{ppb}@{ppr}@{ppd}@{ppa}@{ppl}" disabled="true" class="sheet-short"/>%</td>
                  <td><button type="roll" name="roll_pp" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{ppt}]] [Pick Pockets]">&nbsp;Armor</button><button type="roll" name="roll_ppnoarmor" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{ppb}@{ppr}@{ppd}@{ppl}]] [Pick Pockets (no armor)]">&nbsp;No armor</button></td>
              </tr>
              <tr>
                  <th class="bluetable">Open Locks</th>
                  <td><input type="text" name="attr_olb" value="10" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_olr" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_old" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_ola" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_oll" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_olt" value="@{olb}@{olr}@{old}@{ola}@{oll}" disabled="true" class="sheet-short"/>%</td>
                  <td><button type="roll" name="roll_ol" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{olt}]] [Open Locks]">&nbsp;Armor</button><button type="roll" name="roll_olnoarmor" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{olb}@{olr}@{old}@{oll}]] [Open Locks (no armor)]">&nbsp;No armor</button></td>
              </tr>
              <tr>
                  <th class="bluetable">Find/Remove Traps </th>
                  <td><input type="text" name="attr_rtb" value="5" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_rtr" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_rtd" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_rta" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_rtl" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_rtt" value="@{rtb}@{rtr}@{rtd}@{rta}@{rtl}" disabled="true" class="sheet-short"/>%</td>
                  <td><button type="roll" name="roll_rt" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{rtt}]] [Find/Remove Traps]">&nbsp;Armor</button><button type="roll" name="roll_rtnoarmor" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{rtb}@{rtr}@{rtd}@{rtl}]] [Find/Remove Traps (no armor)]">&nbsp;No armor</button></td>
              </tr>
              <tr>
                  <th class="bluetable">Move Silently</th>
                  <td><input type="text" name="attr_msb" value="10" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_msr" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_msd" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_msa" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_msl" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_mst" value="@{msb}@{msr}@{msd}@{msa}@{msl}" disabled="true" class="sheet-short"/>%</td>
                  <td><button type="roll" name="roll_ms" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{mst}]] [Move Silently]">&nbsp;Armor</button><button type="roll" name="roll_msnoarmor" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{msb}@{msr}@{msd}@{msl}]] [Move Silently (no armor)]">&nbsp;No armor</button></td>
              </tr>
              <tr>
                  <th class="bluetable">Hide in Shadows</th>
                  <td><input type="text" name="attr_hsb" value="5" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_hsr" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_hsd" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_hsa" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_hsl" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_hst" value="@{hsb}@{hsr}@{hsd}@{hsa}@{hsl}" disabled="true" class="sheet-short"/>%</td>
                  <td><button type="roll" name="roll_hs" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{hst}]] [Hide in Shadows]">&nbsp;Armor</button><button type="roll" name="roll_hsnoarmor" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{hsb}@{hsr}@{hsd}@{hsl}]] [Hide in Shadows (no armor)]">&nbsp;No armor</button></td>
              </tr>
              <tr>
                  <th class="bluetable">Detect Noise</th>
                  <td><input type="text" name="attr_dnb" value="15" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_dnr" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_dnd" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_dna" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_dnl" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_dnt" value="@{dnb}@{dnr}@{dnd}@{dna}@{dnl}" disabled="true" class="sheet-short"/>%</td>
                  <td><button type="roll" name="roll_dn" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{dnt}]] [Detect Noise]">&nbsp;Armor</button><button type="roll" name="roll_dnnoarmor" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{dnb}@{dnr}@{dnd}@{dnl}]] [Detect Noise (no armor)]">&nbsp;No armor</button></td>
              </tr>
              <tr>
                  <th class="bluetable">Climb Walls</th>
                  <td><input type="text" name="attr_cwb" value="60" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_cwr" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_cwd" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_cwa" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_cwl" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_cwt" value="@{cwb}@{cwr}@{cwd}@{cwa}@{cwl}" disabled="true" class="sheet-short"/>%</td>
                  <td><button type="roll" name="roll_cw" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{cwt}]] [Climb Walls]">&nbsp;Armor</button><button type="roll" name="roll_cwnoarmor" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{cwb}@{cwr}@{cwd}@{cwl}]] [Climb Walls (no armor)]">&nbsp;No armor</button></td>
              </tr>
              <tr>
                  <th class="bluetable">Read Languages</th>
                  <td><input type="text" name="attr_rlb" value="0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_rlr" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_rld" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_rla" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_rll" value="+0" class="sheet-short"/>%</td>
                  <td><input type="text" name="attr_rlt" value="@{rlb}@{rlr}@{rld}@{rla}@{rll}" disabled="true" class="sheet-short"/>%</td>
                  <td><button type="roll" name="roll_rl" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{rlt}]] [Read Languages]">&nbsp;Armor</button><button type="roll" name="roll_rlnoarmor" class="sheet-d100-dark" value="/roll {1d100+[[?{Misc. modifier|+0}]]}<[[@{rlb}@{rlr}@{rld}@{rll}]] [Read Languages (no armor)]">&nbsp;No armor</button></td>
              </tr>
          </table>
      </div>
      <hr>
  </div>

  <div name="Special Abilities">
    <h4>Special Abilities and Attacks</h4>
    <textarea name="attr_abilitiesnotes" class="sheet-full-page-textbox"></textarea>
    <br />
    <hr>
  </div>

  <div name="Proficiencies and Languages">
    <div class="sheet-2colrow">
      <div class="sheet-col">
        <h4>Proficiencies and Languages</h4>
        <br />
        <span>Non-Weapon Proficiencies</span><br />
        <ul>
          <fieldset name="repeating_profs" class="repeating_profs">
            <table>
              <tr>
                <td><input type="text" name="attr_profslots" class="sheet-tiny" placeholder="Slots"></td>
                <td><input type="text" name="attr_profname" class="sheet-cool-name" placeholder="Proficiency"></td>
                <td>(<input type="text" name="attr_profstatnum" class="sheet-short" placeholder="Stat #"></td>
                <td>&plusmn;<input type="text" name="attr_profmod" class="sheet-short" placeholder="Mod">)
                    <button type="roll" name="Profroll" class="sheet-d20-dark" value="/roll 1d20<[[@{profstatnum}@{profmod}]] @{profname}"></button></td>
              </tr>
            </table>
          </fieldset>
        </ul>
      </div>
      <div class="sheet-col">
        <span>Weapon Proficiencies</span>
        <br />
        <ul>
          <fieldset name="repeating_weaponprofs" class="repeating_weaponprofs">
            <table>
              <tr>
                <td><input type="text" name="attr_weaponprofslots" class="sheet-tiny" placeholder="Slots"></td>
                <td><input type="text" name="attr_weapprofname" class="sheet-cool-name" placeholder="Proficiency"></td>
              </tr>
            </table>
          </fieldset>
        </ul>
        <br />
        <span>Languages</span><br />
        <ul>
          <fieldset name="repeating_langs" class="repeating_langs">
            <table>
              <tr>
                <td><input type="text" name="attr_langslots" class="sheet-tiny" placeholder="Slots"></td>
                <td><input type="text" name="attr_langname" placeholder="Language"></td>
              </tr>
            </table>
          </fieldset>
        </ul>
      </div>
    </div>
    <hr>
  </div>

  <div name="Gear Section">
    <h4>Gear on Person</h4>
    <table style="border-collapse: collapse; border-spacing: 0;">
      <tr>
        <th class="bluetable" style="width: 388px;">Description</th>
        <th class="bluetable" style="width: 43.5px;">Quant</th>
        <th class="bluetable" style="width: 43.5px;">Weight</th>
        <th class="bluetable" style="width: 43.5px;">Total</th>
        <th class="bluetable" style="width: 180px;">Location</th>
        <th class="bluetable" style="width: 60px;">Stashed?</th>
      </tr>
    </table>
    <div class="gear-container">
      <fieldset class="repeating_gear">
        <table style="border-collapse: collapse; border-spacing: 0;">
          <tr>
            <td><input type="text" name="attr_geardesc" class="sheet-long" placeholder="Item"></td>
            <td><input type="number" name="attr_gearquantity" class="sheet-short" min="0" value="1"></td>
            <td><input type="number" name="attr_gearweigh" class="sheet-short sheet-nobut" step="0.1" min="0" value="1"></td>
            <td><input type="number" name="attr_geartotal" class="sheet-short sheet-nobut" style="cursor: default;" readonly></td>
            <td><input type="text" name="attr_gearloc" class="sheet-cool-name" placeholder="Backpack, Belt, Boot, etc."></td>
            <td><input type="checkbox" name="attr_stashed" class="stash-check custom-checkbox" style="height: 19.2px; width: 19.2px; margin-left: 20px;" value="1"></td>
          </tr>
        </table>
      </fieldset>
    </div>

    <span>Total On-Person Weight: </span><input type="number" name="attr_on_person_weight_total" class="sheet-mid sheet-nobut"  style="cursor: default;" readonly>

    <br/>
    <br/>
    <h4>Gear in Stash</h4>
    <table style="border-collapse: collapse; border-spacing: 0;">
      <tr>
        <th class="bluetable" style="width: 388px;">Description</th>
        <th class="bluetable" style="width: 43.5px;">Quant</th>
        <th class="bluetable" style="width: 43.5px;">Weight</th>
        <th class="bluetable" style="width: 43.5px;">Total</th>
        <th class="bluetable" style="width: 180px;">Location</th>
        <th class="bluetable" style="width: 60px;">Stashed?</th>
      </tr>
    </table>
    <div class="stash-container">
      <fieldset class="repeating_gear">
        <table style="border-collapse: collapse; border-spacing: 0;">
          <tr>
            <td><input type="text" name="attr_geardesc" class="sheet-long" placeholder="Item"></td>
            <td><input type="number" name="attr_gearquantity" class="sheet-short" min="0" value="1"></td>
            <td><input type="number" name="attr_gearweigh" class="sheet-short sheet-nobut" step="0.1" min="0" value="1"></td>
            <td><input type="number" name="attr_geartotal" class="sheet-short sheet-nobut" style="cursor: default;" readonly></td>
            <td><input type="text" name="attr_gearloc" class="sheet-cool-name" placeholder="Backpack, Belt, Boot, etc."></td>
            <td><input type="checkbox" name="attr_stashed" class="stash-check custom-checkbox" style="height: 19.2px; width: 19.2px; margin-left: 20px;" value="1"></td>
          </tr>
        </table>
      </fieldset>
    </div>

    <span>Total In-Stash Weight: </span><input type="number" name="attr_in_stash_weight_total" class="sheet-mid sheet-nobut" style="cursor: default;" readonly>

    <br />
    <br />
    <span>Gear Notes</span><br/>
    <textarea name="attr_gearnotes" class="sheet-full-page-textbox" placeholder="Weight Cheat Sheet:&#10;BLADES: dagger=1, shortsword=3, longsword=4, bastardsword=10&#10;RANGED: arrows/bolts=0.1, javelin=2, throwingaxe=5, shortbow=2, longbow=3, blowgun=2&#10;&#10;SMALL ITEMS: whistles, candles, holy symbols, magnifying glasses, etc. = 0.1&#10;POTIONS, OILS: typically = 1"></textarea>
    <hr>
  </div>

  <div name="Wealth">
    <div class="sheet-2colrow">
      <div class="sheet-col">
        <h4>Currency on Person</h4>
        <table>
          <tr>
            <th class="sheet-center">Copper</th>
            <th class="sheet-center">Silver</th>
            <th class="sheet-center">Electrum</th>
            <th class="sheet-center">Gold</th>
            <th class="sheet-center">Platinum</th>
            <th class="sheet-center">(Weight)</th>
          </tr>
          <tr>
            <td><input type="number" name="attr_copp" class="sheet-nobut sheet-mid sheet-center" min="0" value="0"></td>
            <td><input type="number" name="attr_silv" class="sheet-nobut sheet-mid sheet-center" min="0" value="0"></td>
            <td><input type="number" name="attr_elec" class="sheet-nobut sheet-mid sheet-center" min="0" value="0"></td>
            <td><input type="number" name="attr_gold" class="sheet-nobut sheet-mid sheet-center" min="0" value="0"></td>
            <td><input type="number" name="attr_plat" class="sheet-nobut sheet-mid sheet-center" min="0" value="0"></td>
            <td><input type="number" name="attr_currency_weight" class="sheet-nobut sheet-mid sheet-center" min="0" value="0"  style="cursor: default;" readonly></td>
          </tr>
        </table>

        <br /><br />
        <h4>Transfer between Person & Stash</h4>
        <table>
          <tr>
             <th>Amount</th>
             <th>Currency</th>
             <th></th>
             <th></th>
          </tr>
          <tr>
            <td><input type="number" name="attr_coin_transfer_amount" class="sheet-nobut sheet-mid"></td>
            <td><select name="attr_coin_transfer_currency" class="sheet-medium">
              <option value="Copper">Copper</option>
              <option value="Silver">Silver</option>
              <option value="Electrum">Electrum</option>
              <option value="Gold">Gold</option>
              <option value="Platinum">Platinum</option>
            </select></td>
            <td><button type="action" name="act_currency_from_person_to_stash" class="sheet-send-up-dark">↓&nbsp;Send</button></td>
            <td><button type="action" name="act_currency_from_stash_to_person" class="sheet-send-up-dark">↑&nbsp;Send</button></td>
          </tr>
        </table>
        <datalist id="currency_types">
          <option value="Copper"></option>
          <option value="Silver"></option>
          <option value="Electrum"></option>
          <option value="Gold"></option>
          <option value="Platinum"></option>
        </datalist>

        <br /><br />
        <h4>Currency in Stash</h4>
        <table>
          <tr>
            <th class="sheet-center">Copper</th>
            <th class="sheet-center">Silver</th>
            <th class="sheet-center">Electrum</th>
            <th class="sheet-center">Gold</th>
            <th class="sheet-center">Platinum</th>
            <th class="sheet-center">(Weight)</th>
          </tr>
          <tr>
            <td><input type="number" name="attr_stash_copp" class="sheet-nobut sheet-mid sheet-center" min="0" value="0"></td>
            <td><input type="number" name="attr_stash_silv" class="sheet-nobut sheet-mid sheet-center" min="0" value="0"></td>
            <td><input type="number" name="attr_stash_elec" class="sheet-nobut sheet-mid sheet-center" min="0" value="0"></td>
            <td><input type="number" name="attr_stash_gold" class="sheet-nobut sheet-mid sheet-center" min="0" value="0"></td>
            <td><input type="number" name="attr_stash_plat" class="sheet-nobut sheet-mid sheet-center" min="0" value="0"></td>
            <td><input type="number" name="attr_stash_currency_weight" class="sheet-nobut sheet-mid sheet-center" min="0" value="0"  style="cursor: default;" readonly></td>
          </tr>
        </table>
        <br/>
        <span>(100 Copper = 10 Silver = 2 Electrum = 1 Gold = 1/5 Platinum)</span><br />
      </div>

      <div class="sheet-col">
        <h4>Gems, Pearls, and Treasure</h4>
        <fieldset name="repeating_gems" class="repeating_gems">
          <table>
            <tr>
              <td><input type="text" name="attr_gem_name" class="sheet-cool-name" placeholder="Gem Details"></td>
              <td><input type="text" name="attr_gem_value" class="sheet-mid" placeholder="Value"></td>
              <td><input type="text" name="attr_gem_source" class="sheet-medium" placeholder="Source"></td>
            </tr>
          </table>
        </fieldset>
        <br/>
        <span>Other Items Of Value</span><br />
        <textarea name="attr_otherval" class="sheet-half-page-textbox"></textarea>
      </div>
    </div>
    <hr>
  </div>

  <div name="Movement and Encumbrance">
    <h4>Movement and Encumbrance</h4>
    <input type="radio" name="attr_tab6" class="sheet-tab sheet-tab0" value="0" checked="checked"/><span>No Encumbrance</span><br />
    <input type="radio" name="attr_tab6" class="sheet-tab sheet-tab11" value="1"/><span>Basic Encumbrance</span><br />
    <input type="radio" name="attr_tab6" class="sheet-tab sheet-tab12" value="2"/><span>Advanced Encumbrance</span><br />
    <div class="sheet-tab-content sheet-tab11">
      <table style="border-collapse: collapse; border-spacing: 0;">
        <tr>
          <th class="bluetable"> </th>
          <th class="bluetable">Speed</th>
          <th class="bluetable">Weight</th>
          <th class="bluetable">Atk -</th>
          <th class="bluetable">AC -</th>
        </tr>
        <tr>
          <th class="bluetable">Base</th>
          <td><input type="text" name="attr_basespeed" class="sheet-short"/></td>
          <td><input type="text" name="attr_baseweight" class="sheet-short"/></td>
          <td><input type="number" name="attr_basepen" class="sheet-short" value="0"/></td>
          <td><input type="number" name="attr_basepenAC" class="sheet-short" value="0"/></td>
        </tr>
        <tr>
          <th class="bluetable">Light (2/3)</th>
          <td><input type="number" name="attr_lightspeed" value="@{basespeed}-[[@{basespeed}*1/3]]" disabled="true" /></td>
          <td><input type="text" name="attr_lightweight" class="sheet-short"/></td>
          <td><input type="number" name="attr_lightpen" class="sheet-short" value="0"/></td>
          <td><input type="number" name="attr_lightpenAC" class="sheet-short" value="0"/></td>
        </tr>
        <tr>
          <th class="bluetable">Moderate (1/2)</th>
          <td><input type="number" name="attr_modspeed" value="@{basespeed}-[[@{basespeed}*1/2]]" disabled="true" /></td>
          <td><input type="text" name="attr_modweight" class="sheet-short"/></td>
          <td><input type="number" name="attr_modpen" class="sheet-short" value="-1"/></td>
          <td><input type="number" name="attr_modpenAC" class="sheet-short" value="0"/></td>
        </tr>
        <tr>
          <th class="bluetable">Heavy (1/3)</th>
          <td><input type="number" name="attr_heavyspeed" value="@{basespeed}-[[@{basespeed}*2/3]]" disabled="true" /></td>
          <td><input type="text" name="attr_heavyweight" class="sheet-short"/></td>
          <td><input type="number" name="attr_heavypen" class="sheet-short" value="-2"/></td>
          <td><input type="number" name="attr_heavypenAC" class="sheet-short" value="-1"/></td>
        </tr>
        <tr>
          <th class="bluetable">Severe (1)</th>
          <td><input type="number" name="attr_sevspeed" value="1" disabled="true" /></td>
          <td><input type="text" name="attr_sevweight" class="sheet-short"/></td>
          <td><input type="number" name="attr_sevpen" class="sheet-short" value="-4"/></td>
          <td><input type="number" name="attr_sevpenAC" class="sheet-short" value="-3"/></td>
        </tr>
      </table>
      <span>Current weight:</span><input type="number" name="attr_movweighttotal" class="sheet-nobut" value="@{totalweightCarry}+1-1" disabled="true">
    </div>
    <div class="sheet-tab-content sheet-tab12">
      <table style="border-collapse: collapse; border-spacing: 0;">
        <tr>
          <th class="bluetable">Speed</th>
          <th class="bluetable">Weight</th>
          <th class="bluetable">Atk -</th>
          <th class="bluetable">AC -</th>
        </tr>
        <tr>
          <th class="bluetable">12/6</th>
          <td><input type="text" name="attr_12weight" class="sheet-short"/></td>
          <td><input type="text" name="attr_12pen" class="sheet-short" value="0"/></td>
          <td><input type="text" name="attr_12penAC" class="sheet-short" value="0"/></td>
        </tr>
        <tr>
          <th class="bluetable">11/5</th>
          <td><input type="text" name="attr_11weight" class="sheet-short"/></td>
          <td><input type="text" name="attr_11pen" class="sheet-short" value="0"/></td>
          <td><input type="text" name="attr_11penAC" class="sheet-short" value="0"/></td>
        </tr>
        <tr>
          <th class="bluetable">10/5</th>
          <td><input type="text" name="attr_10weight" class="sheet-short"/></td>
          <td><input type="text" name="attr_10pen" class="sheet-short" value="0"/></td>
          <td><input type="text" name="attr_10penAC" class="sheet-short" value="0"/></td>
        </tr>
        <tr>
          <th class="bluetable">9/4</th>
          <td><input type="text" name="attr_9weight" class="sheet-short"/></td>
          <td><input type="text" name="attr_9pen" class="sheet-short" value="0"/></td>
          <td><input type="text" name="attr_9penAC" class="sheet-short" value="0"/></td>
        </tr>
        <tr>
          <th class="bluetable">8/4</th>
          <td><input type="text" name="attr_8weight" class="sheet-short"/></td>
          <td><input type="text" name="attr_8pen" class="sheet-short" value="0"/></td>
          <td><input type="text" name="attr_8penAC" class="sheet-short" value="0"/></td>
        </tr>
        <tr>
          <th class="bluetable">7/3</th>
          <td><input type="text" name="attr_7weight" class="sheet-short"/></td>
          <td><input type="text" name="attr_7pen" class="sheet-short" value="0"/></td>
          <td><input type="text" name="attr_7penAC" class="sheet-short" value="0"/></td>
        </tr>
        <tr>
          <th class="bluetable">6/3</th>
          <td><input type="text" name="attr_6weight" class="sheet-short"/></td>
          <td><input type="text" name="attr_6pen" class="sheet-short" value="-1"/></td>
          <td><input type="text" name="attr_6penAC" class="sheet-short" value="0"/></td>
        </tr>
        <tr>
          <th class="bluetable">5/2</th>
          <td><input type="text" name="attr_5weight" class="sheet-short"/></td>
          <td><input type="text" name="attr_5pen" class="sheet-short" value="-1"/></td>
          <td><input type="text" name="attr_5penAC" class="sheet-short" value="0"/></td>
        </tr>
        <tr>
          <th class="bluetable">4/2</th>
          <td><input type="text" name="attr_4weight" class="sheet-short"/></td>
          <td><input type="text" name="attr_4pen" class="sheet-short" value="-2"/></td>
          <td><input type="text" name="attr_4penAC" class="sheet-short" value="-1"/></td>
        </tr>
        <tr>
          <th class="bluetable">3/1</th>
          <td><input type="text" name="attr_3weight" class="sheet-short"/></td>
          <td><input type="text" name="attr_3pen" class="sheet-short" value="-2"/></td>
          <td><input type="text" name="attr_3penAC" class="sheet-short" value="-1"/></td>
        </tr>
        <tr>
          <th class="bluetable">2/1</th>
          <td><input type="text" name="attr_2weight" class="sheet-short"/></td>
          <td><input type="text" name="attr_2pen" class="sheet-short" value="-2"/></td>
          <td><input type="text" name="attr_2penAC" class="sheet-short" value="-1"/></td>
        </tr>
        <tr>
          <th class="bluetable">1/1</th>
          <td><input type="text" name="attr_1weight" class="sheet-short"/></td>
          <td><input type="text" name="attr_1pen" class="sheet-short" value="-4"/></td>
          <td><input type="text" name="attr_1penAC" class="sheet-short" value="-3"/></td>
        </tr>
      </table>
      <span>Current weight:</span><input type="number" name="attr_movweighttotal" class="sheet-nobut" value="@{totalweightCarry}+1-1" disabled="true">
    </div>
    <hr>
  </div>

  <div name="Henchmen/Animal Companions">
    <h4>Henchmen/Animal Companions</h4>
    <table style="border-collapse: collapse; border-spacing: 0;">
      <tr>
        <th class="bluetable">Name</th>
        <th class="bluetable">AC</th>
        <th class="bluetable">Race/Class</th>
        <th class="bluetable">Lvl/HD</th>
        <th class="bluetable">#Atks</th>
        <th class="bluetable">Atk +</th>
        <th class="bluetable">Dmg</th>
        <th class="bluetable">HP</th>
        <th class="bluetable">Notes</th>
      </tr>
      <tr>
        <td><input type="text" name="attr_henchname" class="sheet-generic"></td>
        <td><input type="text" name="attr_henchac" class="sheet-short"></td>
        <td><input type="text" name="attr_henchrace" class="sheet-generic"></td>
        <td><input type="text" name="attr_henchlvl" class="sheet-short"></td>
        <td><input type="text" name="attr_henchatknum" class="sheet-short"></td>
        <td><input type="text" name="attr_henchthac" class="sheet-short"></td>
        <td><input type="text" name="attr_henchdmg" class="sheet-short"></td>
        <td><input type="number" name="attr_henchhp" class="sheet-nobut"/>/<input type="number" name="attr_henchhpmax" class="sheet-nobut"/></td>
        <td><input type="text" name="attr_henchnotes" class="sheet-generic"></td>
      </tr>
    </table>
    <fieldset name="repeating_hench" class="repeating_hench">
      <table>
        <tr>
          <td><input type="text" name="attr_henchname" class="sheet-generic"></td>
          <td><input type="text" name="attr_henchac" class="sheet-short"></td>
          <td><input type="text" name="attr_henchrace" class="sheet-generic"></td>
          <td><input type="text" name="attr_henchlvl" class="sheet-short"></td>
          <td><input type="text" name="attr_henchatknum" class="sheet-short"></td>
          <td><input type="text" name="attr_henchthac" class="sheet-short"></td>
          <td><input type="text" name="attr_henchdmg" class="sheet-short"></td>
          <td><input type="number" name="attr_henchhp" class="sheet-nobut"/>/<input type="number" name="attr_henchhpmax" class="sheet-nobut" /></td>
          <td><input type="text" name="attr_henchnotes" class="sheet-generic"></td>
        </tr>
      </table>
    </fieldset>
    <br />
    <span>Companion Notes</span><br/>
    <textarea name="attr_henchnotesarea" class="sheet-full-page-textbox"></textarea>
  </div>
</div>

<!-- SIMPLIFIED COMBAT TAB -->
<div name="Simplified Combat Tab" class="sheet-tab-content sheet-tab2">
  <div name="Temporary Buffs">
      <br />
      <div class="sheet-2colrow">
        <div class="sheet-col">
          <h4>Temporary Buffs</h4>
          <table>
            <tr>
              <th class="sheet-center">Attack</th>
              <th class="sheet-center">Damage</th>
              <th class="sheet-center">Initiative</th>
              <th class="sheet-center">Saving<br/>Throws</th>
              <th class="sheet-center">Ability<br/>Checks</th>
            </tr>
            <tr>
              <td><input type="text" name="attr_temp_attack" class="sheet-mid sheet-center" value="0"></td>
              <td><input type="text" name="attr_temp_damage" class="sheet-mid sheet-center" value="0"></td>
              <td><input type="text" name="attr_temp_initiative" class="sheet-mid sheet-center" value="0"></td>
              <td><input type="text" name="attr_temp_saving_throws" class="sheet-mid sheet-center" value="0"></td>
              <td><input type="text" name="attr_temp_ability_checks" class="sheet-mid sheet-center" value="0"></td>
            </tr>
          </table>
        </div>
        <div class="sheet-col">
          <table>
            <tr>
              <th>
                <input type="checkbox" name="attr_temp_bless" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Bless</span>
              </th>
              <th>
                <input type="checkbox" name="attr_temp_bard_attack" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Bard Attack</span>
              </th>
              <th>
                <input type="checkbox" name="attr_temp_haste" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Haste</span>              
              </th>
            </tr>
            <tr>
              <th>
                <input type="checkbox" name="attr_temp_chant" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Chant</span>
              </th>
              <th>
                <input type="checkbox" name="attr_temp_bard_save" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Bard Saves</span>
              </th>
              <th>
                <input type="checkbox" name="attr_temp_faerie_fire" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Faerie Fire </span><select name="attr_temp_faerie_fire_bonus" class="sheet-tiny" style="height:19.2px; padding-top:0; padding-bottom:0;">
                                          <option value="1">1</option><option value="2">2</option></select>
              </th>
            </tr>
            <tr>
              <th>
                <input type="checkbox" name="attr_temp_prayer" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Prayer</span>
              </th>
              <th>
                <input type="checkbox" name="attr_temp_aid" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Aid</span>
              </th>
              <th>
                <input type="checkbox" name="attr_temp_enlarge" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Enlarge </span><select name="attr_temp_enlarge_level" class="sheet-tiny" style="height:19.2px; padding-top:0; padding-bottom:0; float:right;">
                                      <option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option>
                                      <option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option>
                                      <option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option>
                                      <option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option>
                                    </select>
                <input type="number" name="attr_enlarge_bonus" value="1" style="display: none;">
              </th>
            </tr>
            <tr>
              <th>
                <input type="checkbox" name="attr_temp_recitation" class="custom-checkbox" style="height: 19.2px; width: 19.2px;" value="1">
                <span>Recitation</span>
              </th>
              <th></th>
              <th></th>
            </tr>
          </table>
        </div>
      </div>
    <hr>
  </div>

  <div name="Simplified Weapons">
    <h4>Weapons</h4>
    <table style="border-collapse: collapse; border-spacing: 0;">
      <tr>
        <th class="bluetable">Weapon</th>
        <th class="bluetable"># Atks</th>
        <th class="bluetable">Atk +</th>
        <th class="bluetable">Dam +</th>
        <th class="bluetable">Swing</th>
        <th class="bluetable">Dam SM</th>
        <th class="bluetable">Dam L</th>
        <th class="bluetable">Range</th>
        <th class="bluetable">Size</th>
        <th class="bluetable">Type</th>
        <th class="bluetable">Speed</th>
      </tr>
      <tr>
        <td><input type="text" name="attr_weaponname" class="sheet-cool-name"></td>
        <td><input type="text" name="attr_attacknum" class="sheet-short"></td>
        <td><input type="text" name="attr_attackadj" class="sheet-short" value="+0"></td>
        <td><input type="text" name="attr_damadj" class="sheet-short" value="+0"></td>
        <td><button type="roll" name="roll_hit1" class="sheet-d20-dark" value="/em hits AC [[1d20+(@{PC_ATKBONUS}[Level])+(@{attackadj}[Atk Adjust])+(@{strengthhit}[Str Bonus])+(@{temp_attack}[Temp])]] with @{weaponname}">Hit</button></td>
        <td><input type="text" name="attr_damsm" class="sheet-short"><button type="roll" name="roll_damsm" class="sheet-d8-dark" value="/em rolls [[@{damsm}*@{enlarge_bonus}[Enlarge]+(@{damadj})[Dmg Adj]+(@{strengthdmg})[Str Adj]+@{temp_damage}[Temp]]] damage with @{weaponname}!"></button></td>
        <td><input type="text" name="attr_daml" class="sheet-short"><button type="roll" name="roll_daml" class="sheet-d12-dark" value="/em rolls [[@{daml}*@{enlarge_bonus}[Enlarge]+(@{damadj})[Dmg Adj]+(@{strengthdmg})[Str Adj]+@{temp_damage}[Temp]]] damage with @{weaponname}!"></button></td>
        <td><input type="text" name="attr_range" class="sheet-mid2"></td>
        <td><input type="text" name="attr_weapsize" class="sheet-tiny"></td>
        <td><input type="text" name="attr_Weaptype" class="sheet-tiny"></td>
        <td><input type="number" name="attr_weapspeed" class="sheet-tiny"><button type="roll" name="roll_init" class="sheet-d10-dark" value="/roll 1d10+[[@{weapspeed}]] [Initiative (@{weaponname})]&{tracker}"></button></td>
      </tr>
    </table>
    <fieldset name="repeating_weapons" class="repeating_weapons">
      <table style="border-collapse: collapse; border-spacing: 0;">
        <tr>
          <td><input type="text" name="attr_weaponname" class="sheet-cool-name"></td>
          <td><input type="text" name="attr_attacknum" class="sheet-short"></td>
          <td><input type="text" name="attr_attackadj" class="sheet-short" value="+0"></td>
          <td><input type="text" name="attr_damadj" class="sheet-short" value="+0"></td>
          <td><button type="roll" name="roll_hit1" class="sheet-d20-dark" value="/em hits AC [[1d20+(@{PC_ATKBONUS}[Level])+(@{attackadj}[Atk Adjust])+(@{strengthhit}[Str Bonus])+(@{temp_attack}[Temp])]] with @{weaponname}">Hit</button></td>
          <td><input type="text" name="attr_damsm" class="sheet-short"><button type="roll" name="roll_damsm" class="sheet-d8-dark" value="/em rolls [[@{damsm}*@{enlarge_bonus}[Enlarge]+(@{damadj})[Dmg Adj]+(@{strengthdmg})[Str Adj]+@{temp_damage}[Temp]]] damage with @{weaponname}!"></button></td>
          <td><input type="text" name="attr_daml" class="sheet-short"><button type="roll" name="roll_daml" class="sheet-d12-dark" value="/em rolls [[@{daml}*@{enlarge_bonus}[Enlarge]+(@{damadj})[Dmg Adj]+(@{strengthdmg})[Str Adj]+@{temp_damage}[Temp]]] damage with @{weaponname}!"></button></td>
          <td><input type="text" name="attr_range" class="sheet-mid2"></td>
          <td><input type="text" name="attr_weapsize" class="sheet-tiny"></td>
          <td><input type="text" name="attr_weaptype" class="sheet-tiny"></td>
          <td><input type="number" name="attr_weapspeed" class="sheet-tiny"><button type="roll" name="roll_init" class="sheet-d10-dark" value="/roll 1d10+[[@{weapspeed}?{Misc. bonus (please include + or -)|+0}]] [Initiative (@{weaponname})]&{tracker}"></button></td>
        </tr>
      </table>
    </fieldset>
    <br /><span>Weapon Notes</span><br/>
    <textarea name="attr_weaponnotes" class="sheet-full-page-textbox"></textarea>
    <hr>
  </div>

  <div name="Simplified Spells">
    <h4>Spells</h4>
    <table style="border-collapse: collapse; border-spacing: 0;">
      <tr>
        <th class="bluetable">Spell</th>
        <th class="bluetable">School/Sphere</th>
        <th class="bluetable">Roll</th>
        <th class="bluetable">Description</th>
        <th class="bluetable">Speed</th>
      </tr>
      <tr>
        <td><input type="text" name="attr_spell_name" class="sheet-cool-name"></td>
        <td><input type="text" name="attr_spell_school" class="sheet-spell-school-sphere"></td>
        <td><input type="text" name="attr_spell_roll" class="sheet-short"><button type="roll" name="roll_spell" class="sheet-spell-dark" value="/em rolls [[@{spell_roll}]] with @{spell_name}!"></button></td>
        <td><input type="text" name="attr_spell_description" class="sheet-long"></td>
        <td><input type="text" name="attr_spell_speed" class="sheet-tiny"><button type="roll" name="roll_spell_speed" class="sheet-d10-dark" value="/em rolls [[d10+@{spell_speed}&{tracker}]] for initiative with @{spell_name}"></button></td>
      </tr>
    </table>
    <fieldset name="repeating_spells" class="repeating_spells">
      <table style="border-collapse: collapse; border-spacing: 0;">
        <td><input type="text" name="attr_spell_name" class="sheet-cool-name"></td>
        <td><input type="text" name="attr_spell_school" class="sheet-spell-school-sphere"></td>
        <td><input type="text" name="attr_spell_roll" class="sheet-short"><button type="roll" name="roll_spell" class="sheet-spell-dark" value="/em rolls [[@{spell_roll}]] with @{spell_name}!"></button></td>
        <td><input type="text" name="attr_spell_description" class="sheet-long"></td>
        <td><input type="text" name="attr_spell_speed" class="sheet-tiny"><button type="roll" name="roll_spell_speed" class="sheet-d10-dark" value="/em rolls [[d10+@{spell_speed}&{tracker}]] for initiative with @{spell_name}"></button></td>
      </table>
    </fieldset>
    <br/>
    <div class="sheet-2colrow">
      <div class="sheet-col">
        <input type="radio" name="attr_tab8" class="sheet-tab sheet-tab13" value="1" checked="checked"> <span class="span">Spellbook&nbsp;&nbsp;&nbsp;</span>
        <input type="radio" name="attr_tab8" class="sheet-tab sheet-tab14" value="2"> <span>Loadout 1&nbsp;&nbsp;&nbsp;</span>
        <input type="radio" name="attr_tab8" class="sheet-tab sheet-tab15" value="3"> <span>Loadout 2&nbsp;&nbsp;&nbsp;</span>
        <input type="radio" name="attr_tab8" class="sheet-tab sheet-tab16" value="4"> <span>Loadout 3</span>
        <div class="sheet-tab-content sheet-tab13">
          <textarea name="attr_spellbook" class="sheet-half-page-textbox" placeholder="Spells you have access to which aren't listed above"></textarea>
        </div>
        <div class="sheet-tab-content sheet-tab14">
          <textarea name="attr_spell_loadout_1" class="sheet-half-page-textbox" placeholder="You can setup common spell loadouts here which you paste into Spells Memorized at the start of the day"></textarea>
        </div>
        <div class="sheet-tab-content sheet-tab15">
          <textarea name="attr_spell_loadout_2" class="sheet-half-page-textbox" placeholder="You can setup common spell loadouts here which you paste into Spells Memorized at the start of the day"></textarea>
        </div>
        <div class="sheet-tab-content sheet-tab16">
          <textarea name="attr_spell_loadout_3" class="sheet-half-page-textbox" placeholder="You can setup common spell loadouts here which you paste into Spells Memorized at the start of the day"></textarea>
        </div>
      </div>
      <div class="sheet-col">
        <span>Spells Memorized:</span>
        <textarea name="attr_spells_memorized" class="sheet-half-page-textbox" placeholder="I recommend committing one row to each spell level for clarity!&#10;1x Magic Missile, 1x Color Spray&#10;1x Mirror Image"></textarea><br/>
        <button type="roll" name="send_spells_memorized" class="sheet-book-dark" value="Spells memorized today:\n@{spells_memorized}"> Share memorized spells to chat</button>
      </div>
    </div>
    <hr>
  </div>

  <div name="Simplified Ability Checks & Saving Throws" class="sheet-2colrow">
    <div class="sheet-col">
      <h4>Ability Checks</h4>
      <button type="roll" name="roll_strcheck" class="sheet-d20-dark" value="/roll {1d20+[[@{Strength}?{Misc. bonus (please include + or -)|+0}]]}>[[20]] [Strength Ability Check]">&nbsp;Strength</button><br/>
      <button type="roll" name="roll_dexcheck" class="sheet-d20-dark" value="/roll {1d20+[[@{Dexterity}?{Misc. bonus (please include + or -)|+0}]]}>[[20]] [Dexterity Ability Check]">&nbsp;Dexterity</button><br/>
      <button type="roll" name="roll_concheck" class="sheet-d20-dark" value="/roll {1d20+[[@{Constitution}?{Misc. bonus (please include + or -)|+0}]]}>[[20]] [Constitution Ability Check]">&nbsp;Constitution</button><br/>
      <button type="roll" name="roll_intcheck" class="sheet-d20-dark" value="/roll {1d20+[[@{Intelligence}?{Misc. bonus (please include + or -)|+0}]]}>[[20]] [Intelligence Ability Check]">&nbsp;Intelligence</button><br/>
      <button type="roll" name="roll_wischeck" class="sheet-d20-dark" value="/roll {1d20+[[@{Wisdom}?{Misc. bonus (please include + or -)|+0}]]}>[[20]] [Wisdom Ability Check]">&nbsp;Wisdom</button><br/>
      <button type="roll" name="roll_chacheck" class="sheet-d20-dark" value="/roll {1d20+[[@{Charisma}?{Misc. bonus (please include + or -)|+0}]]}>[[20]] [Charisma Ability Check]">&nbsp;Charisma</button>
    </div>

    <div class="sheet-col">
      <h4>Saving Throws</h4>
      <!-- /* lol need to add default in case value doesn't exist */ -->
      <button type="roll" name="roll_parsave" class="sheet-d20-dark" value="/roll {1d20+@{parmod}+@{temp_saving_throws}[Temp]}>@{partar} save vs. Paralyzation, Poison, Death Magic">&nbsp;Paralyzation, Poison, Death Magic</button><br/>
      <button type="roll" name="roll_rodsave" class="sheet-d20-dark" value="/roll {1d20+@{rodmod}+@{temp_saving_throws}[Temp]}>@{rodtar} save vs. Rod, Staff, or Wand">&nbsp;Rod, Staff, Wand</button><br/>
      <button type="roll" name="roll_petsave" class="sheet-d20-dark" value="/roll {1d20+@{petmod}+@{temp_saving_throws}[Temp]}>@{pettar} save vs. Petrification or Polymorph">&nbsp;Petrification, Polymorph</button><br/>
      <button type="roll" name="roll_breathsave" class="sheet-d20-dark" value="/roll {1d20+@{breathmod}+@{temp_saving_throws}[Temp]}>@{breathtar} save vs. Breath Weapon">&nbsp;Breath Weapon</button><br/>
      <button type="roll" name="roll_spsave" class="sheet-d20-dark" value="/roll {1d20+@{spmod}+@{temp_saving_throws}[Temp]}>@{sptar} save vs. Spell">&nbsp;Spell</button><br/>
    </div>
  </div>
</div>

<!-- MONSTER SHEET TAB -->
<div name="Monster Sheet Tab" class="sheet-tab-content sheet-tab9">
  <h2>Monster Info</h2>
  <h4>Name: <input type="text" name="attr_character_name"></h4>
  <input type="text" name="attr_character_name">
  <div class="body">
    <div class="sheet-3colrow">
      <div class="sheet-col">
        <table>
          <tr>
            <td><b>Climate/Terrain:</b></td>
            <td><input type="text" name="attr_climateterrain" class="sheet-generic"></td>
          </tr>
          <tr>
            <td><b>Frequency:</b></td>
            <td><input type="text" name="attr_frequency" class="sheet-generic"></td>
          </tr>
          <tr>
            <td><b>Organization:</b></td>
            <td><input type="text" name="attr_organization" class="sheet-generic"></td>
          </tr>
          <tr>
            <td><b>Activity Cycle:</b></td>
            <td><input type="text" name="attr_cycle" class="sheet-generic"></td>
          </tr>
          <tr>
            <td><b>Diet:</b></td>
            <td><input type="text" name="attr_diet" class="sheet-generic"></td>
          </tr>
          <tr>
            <td><b>Intelligence:</b></td>
            <td><input type="text" name="attr_monsterintelligence" class="sheet-generic"></td>
          </tr>
          <tr>
            <td><b>Treasure:</b></td>
            <td><input type="text" name="attr_treasure" class="sheet-generic"></td>
          </tr>
          <tr>
            <td><b>Alignment:</b></td>
            <td><input type="text" name="attr_monsteralignment" class="sheet-generic"></td>
          </tr>
        </table>
      </div>
      <div class="sheet-col">
        <table>
          <tr>
            <td><b>No. Appearing:</b></td>
            <td><input type="text" name="attr_appearing" class="sheet-short"></td>
          </tr>
          <tr>
            <td><b>Armor Class:</b></td>
            <td><input type="text" name="attr_monsterarmor" class="sheet-short"></td>
          </tr>
          <tr>
            <td><b>Movement:</b></td>
            <td><input type="text" name="attr_movement" class="sheet-medium"></td>
          </tr>
          <tr>
            <td><b>Hit Dice:</b></td>
            <td><input type="text" name="attr_hitdice" class="sheet-short"></td>
          </tr>
          <tr>
            <td><b>THAC0:</b></td>
            <td><input type="text" name="attr_monsterthac0" class="sheet-short"></td>
          </tr>
          <tr>
            <td><b>No. of Attacks:</b></td>
            <td><input type="text" name="attr_monsteratknum" class="sheet-tiny"></td>
          </tr>
          <tr>
            <td><b>Damage/Attack:</b></td>
            <td><input type="text" name="attr_monsterdmg" class="sheet-generic"></td>
          </tr>
          <tr>
            <td><b>Special Attacks:</b></td>
            <td><input type="text" name="attr_monsterspecattacks" class="sheet-generic"></td>
          </tr>
        </table>
      </div>
      <div class="sheet-col">
        <table>
          <tr>
            <td><b>Special Defenses:</b></td>
            <td><input type="text" name="attr_monsterspecdefenses" class="sheet-generic"></td>
          </tr>
          <tr>
            <td><b>Magic Resistance:</b></td>
            <td><input type="text" name="attr_monstermagicresist" class="sheet-short">%</td>
          </tr>
          <tr>
            <td><b>Size:</b></td>
            <td><input type="text" name="attr_monstersize" class="sheet-tiny"></td>
          </tr>
          <tr>
            <td><b>Morale:</b></td>
            <td><input type="text" name="attr_monstermorale" class="sheet-generic"></td>
          </tr>
          <tr>
            <td><b>XP Value:</b></td>
            <td><input type="text" name="attr_monsterxp" class="sheet-generic"></td>
          </tr>
        </table>
      </div>
    </div>
    <textarea name="attr_monsterdesc" class="sheet-full-page-textbox" placeholder="Description"></textarea>
    <br />
    <h4>Combat</h4>
    <textarea name="attr_monstercombat" class="sheet-full-page-textbox"></textarea>
    <br />
    <h4>Habitat/Society</h4>
    <textarea name="attr_monsterhabitat" class="sheet-full-page-textbox"></textarea>
    <br />
    <h4>Ecology</h4>
    <textarea name="attr_monsterecology" class="sheet-full-page-textbox"></textarea>
    <br />
    <h3>Variants</h3>
    <fieldset class="repeating_monstervariants" name="monstervariants">
      <input type="text" name="attr_variantname" class="sheet-generic">
      <div class="sheet-3colrow">
        <div class="sheet-col">
          <table>
            <tr>
              <td><b>Climate/Terrain:</b></td>
              <td><input type="text" name="attr_climateterrain" class="sheet-generic"></td>
            </tr>
            <tr>
              <td><b>Frequency:</b></td>
              <td><input type="text" name="attr_frequency" class="sheet-generic"></td>
            </tr>
            <tr>
              <td><b>Organization:</b></td>
              <td><input type="text" name="attr_organization" class="sheet-generic"></td>
            </tr>
            <tr>
              <td><b>Activity Cycle:</b></td>
              <td><input type="text" name="attr_cycle" class="sheet-generic"></td>
            </tr>
            <tr>
              <td><b>Diet:</b></td>
              <td><input type="text" name="attr_diet" class="sheet-generic"></td>
            </tr>
            <tr>
              <td><b>Intelligence:</b></td>
              <td><input type="text" name="attr_monsterintelligence" class="sheet-generic"></td>
            </tr>
            <tr>
              <td><b>Treasure:</b></td>
              <td><input type="text" name="attr_treasure" class="sheet-generic"></td>
            </tr>
            <tr>
              <td><b>Alignment:</b></td>
              <td><input type="text" name="attr_monsteralignment" class="sheet-generic"></td>
            </tr>
          </table>
        </div>
        <div class="sheet-col">
          <table>
            <tr>
              <td><b>No. Appearing:</b></td>
              <td><input type="text" name="attr_appearing" class="sheet-short"></td>
            </tr>
            <tr>
              <td><b>Armor Class:</b></td>
              <td><input type="text" name="attr_monsterarmor" class="sheet-short"></td>
            </tr>
            <tr>
              <td><b>Movement:</b></td>
              <td><input type="text" name="attr_movement" class="sheet-medium"></td>
            </tr>
            <tr>
              <td><b>Hit Dice:</b></td>
              <td><input type="text" name="attr_hitdice" class="sheet-short"></td>
            </tr>
            <tr>
              <td><b>THAC0:</b></td>
              <td><input type="text" name="attr_monsterthac0" class="sheet-short"></td>
            </tr>
            <tr>
              <td><b>No. of Attacks:</b></td>
              <td><input type="text" name="attr_monsteratknum" class="sheet-tiny"></td>
            </tr>
            <tr>
              <td><b>Damage/Attack:</b></td>
              <td><input type="text" name="attr_monsterdmg" class="sheet-generic"></td>
            </tr>
            <tr>
              <td><b>Special Attacks:</b></td>
              <td><input type="text" name="attr_monsterspecattacks" class="sheet-generic"></td>
            </tr>
          </table>
        </div>
        <div class="sheet-col">
          <table>
            <tr>
              <td><b>Special Defenses:</b></td>
              <td><input type="text" name="attr_monsterspecdefenses" class="sheet-generic"></td>
            </tr>
            <tr>
              <td><b>Magic Resistance:</b></td>
              <td><input type="text" name="attr_monstermagicresist" class="sheet-short">%</td>
            </tr>
            <tr>
              <td><b>Size:</b></td>
              <td><input type="text" name="attr_monstersize" class="sheet-tiny"></td>
            </tr>
            <tr>
              <td><b>Morale:</b></td>
              <td><input type="text" name="attr_monstermorale" class="sheet-generic"></td>
            </tr>
            <tr>
              <td><b>XP Value:</b></td>
              <td><input type="text" name="attr_monsterxp" class="sheet-generic"></td>
            </tr>
          </table>
        </div>
      </div>
      <textarea name="attr_monsterdesc" class="sheet-full-page-textbox"></textarea>
      <br />
    </fieldset>
  </div>
</div>






<!-- stuff below idk, we might somehow use the default rolltemplate but i don't even think we do -->
 <div name="Roll Template">
    <rolltemplate class="sheet-rolltemplate-2Edefault">
        <div class="sheet-template-container">
            <div class="sheet-default-head">
                <table>
                    <tr>
                        <th class="sheet-template-title1">{{name}}</th>
                    </tr>
                    {{#subtitle}}
                    <tr>
                        <th class="sheet-template-subtitle1">{{subtitle}}</th>
                    </tr>
                    {{/subtitle}}
                </table>
            </div>
            <div class="sheet-template-body">
                <table>
                    {{#allprops() desc desc1 desc2 name subtitle}}
                    <tr>
                        <td class="default-c1">{{key}}</td>
                        <td class="default-c2">{{value}}</td>
                        {{/allprops() desc desc1 desc2 name subtitle}}
                        {{#desc}}
                    </tr>
                    <tr>
                        <td class="default-c3" colspan="2">{{desc}}</td>
                    </tr>
                    {{/desc}}
                    {{#desc1}}
                    <tr>
                        <td class="default-c3" colspan="2">{{desc1}}</td>
                    </tr>
                    {{/desc1}}
                    {{#desc2}}
                    <tr>
                        <td class="default-c3" colspan="2">{{desc2}}</td>
                    </tr>
                    {{/desc2}}
                </table>
            </div>
        </div>
    </rolltemplate>
    <rolltemplate class="sheet-rolltemplate-2Eattack">
        <div class="sheet-template-container">
            <div class="sheet-attack-head">
                <table>
                    <tr>
                        <th class="sheet-template-title1">{{title}}</th>
                    </tr>
                    <tr>
                        <th class="sheet-template-subtitle1">{{subtitle}}</th>
                    </tr>
                </table>
            </div>
            <div class="sheet-template-body">
                <table>
                    <tr>
                        <td colspan="3"><span class="weapon-used">{{weapon_used}}</span></td>
                    </tr>
                    <tr>
                        <td class="attack-c1"><b>S/M</b></td>
                        <td class="attack-c2" rowspan="2">{{ac_hit}}</td>
                        <td class="attack-c1"><b>L</b></td>
                    </tr>
                    {{#crit_s}}{{#crit_l}}
                    {{#rollWasCrit() ac_hit}}
                    <tr>
                        <td class="attack-c3" rowspan="2">{{crit_s}}</td>
                        <td class="attack-c3" rowspan="2">{{crit_l}}</td>
                    </tr>
                    <tr>
                        <td class="attack-c4"><b>AC Hit</b></td>
                    </tr>
                    <tr>
                        <td colspan="3" class="attack-c5">CRITICAL HIT!{{#crit}}<br /><span class="attack-crit">{{crit}}</span>{{/crit}}</td>
                    </tr>
                    {{/rollWasCrit() ac_hit }}
                    {{#^rollWasCrit() ac_hit}}
                    <tr>
                        <td class="attack-c3" rowspan="2">{{dmg_s}}</td>
                        <td class="attack-c3" rowspan="2">{{dmg_l}}</td>
                    </tr>
                    <tr>
                        <td class="attack-c4"><b>AC Hit</b></td>
                    </tr>
                    {{/^rollWasCrit() ac_hit}}
                    {{/crit_l}}{{/crit_s}}
                    {{^crit_s}}{{^crit_l}}
                    <tr>
                        <td class="attack-c3" rowspan="2">{{dmg_s}}</td>
                        <td class="attack-c3" rowspan="2">{{dmg_l}}</td>
                    </tr>
                    <tr>
                        <td class="attack-c4"><b>AC Hit</b></td>
                    </tr>
                    {{#rollWasCrit() ac_hit}}
                    <tr>
                        <td colspan="3" class="attack-c5">CRITICAL HIT!{{#crit}}<br /><span class="attack-crit">{{crit}}</span>{{/crit}}</td>
                    </tr>
                    {{/rollWasCrit() ac_hit}}
                    {{/crit_l}}{{/crit_s}}
                    {{#rollWasFumble() ac_hit }}
                    <tr>
                        <td colspan="3" class="attack-c6">FUMBLE!{{#fumble}}<br /><span class="attack-fumble">{{fumble}}</span>{{/fumble}}</td>
                    </tr>
                    {{/rollWasFumble() ac_hit }}
                </table>
            </div>
        </div>
    </rolltemplate>
    <rolltemplate class="sheet-rolltemplate-2Espell">
        <div class="sheet-template-container">
            <div class="sheet-spell-head">
                <table>
                    <tr>
                        <th class="sheet-template-title1">{{title}}</th>
                    </tr>
                    <tr>
                        <th class="sheet-template-subtitle1">{{splevel}} * {{school}}</th>
                    </tr>
                    {{#sphere}}
                    <tr>
                        <th class="sheet-template-subtitle1">Priest Sphere: {{sphere}}</th>
                    </tr>
                    {{/sphere}}
                </table>
            </div>
            <div class="sheet-template-body">
                <table>
                    <tr>
                        <td class="sheet-spell-c1"><span class="sheet-spell-prop">Components</span><br />{{components}}</td>
                        <td class="spell-c1"><span class="sheet-spell-prop">Casting Time</span><br />{{time}}</td>
                    </tr>
                    <tr>
                        <td class="sheet-spell-c1"><span class="sheet-spell-prop">Range</span><br />{{range}}</td>
                        <td class="spell-c1"><span class="sheet-spell-prop">Duration</span><br />{{duration}}</td>
                    </tr>
                    <tr>
                        <td class="sheet-spell-c1"><span class="sheet-spell-prop">Area of Effect</span><br />{{aoe}}</td>
                        <td class="spell-c1"><span class="sheet-spell-prop">Saving Throw</span><br />{{save}}</td>
                    </tr>
                    {{#damage}}
                    <tr>
                        <td colspan="2" class="sheet-spell-c1"><span class="sheet-spell-prop">Damage:</span> {{damage}} {{damagetype}}</td>
                    </tr>
                    {{/damage}}
                    {{#healing}}
                    <tr>
                        <td colspan="2" class="sheet-spell-c1"><span class="sheet-spell-prop">Healing:</span> {{healing}}</td>
                    </tr>
                    {{/healing}}
                    {{#reference}}
                    <tr>
                        <td colspan="2" class="sheet-spell-c1"><span class="sheet-spell-prop">Reference:</span> {{reference}}</td>
                    </tr>
                    {{/reference}}
                    {{#materials}}
                    <tr>
                        <td colspan="2" class="sheet-spell-c1"><span class="sheet-spell-prop">Spell Materials:</span> {{materials}}</td>
                    </tr>
                    {{/materials}}
                    {{#effects}}
                    <tr>
                        <td colspan="2" class="sheet-spell-c2"><span class="sheet-spell-prop">Effects:</span> {{effects}}</td>
                    </tr>
                    {{/effects}}
                </table>
            </div>
        </div>
    </rolltemplate>
    <rolltemplate class="sheet-rolltemplate-2Eprotscroll">
        <div class="sheet-template-container">
            <div class="sheet-protscroll-head">
                <table>
                    <tr>
                        <th class="sheet-template-title1">{{title}}</th>
                    </tr>
                </table>
            </div>
            <div class="sheet-template-body">
                <table>
                    <tr>
                        <td class="spell-c1"><span class="sheet-spell-prop">Reading Time</span><br />{{time}}</td>
                        <td class="spell-c1"><span class="sheet-spell-prop">Duration</span><br />{{duration}}</td>
                    </tr>
            {{#reference}}
                    <tr>
                        <td colspan="2" class="sheet-spell-c1"><span class="sheet-spell-prop">Reference:</span> {{reference}}</td>
                    </tr>
                    {{/reference}}
                    {{#effects}}
                    <tr>
                        <td colspan="2" class="sheet-spell-c2"><span class="sheet-spell-prop">Effects:</span> {{effects}}</td>
                    </tr>
                    {{/effects}}
                </table>
            </div>
        </div>
    </rolltemplate>
    <rolltemplate class="sheet-rolltemplate-2Esave">
        <div class="sheet-template-container">
            <div class="save-head">
                <table>
                    <tr>
                        <th class="sheet-template-title1">Save vs. {{savevs}}</th>
                    </tr>
                    <tr>
                        <th class="sheet-template-subtitle1">for {{character}}</th>
                    </tr>
                </table>
            </div>
            <div class="sheet-template-body">
                <table>
                    <tr>
                        <td class="save-c1">Saving Throw Roll:</td>
                        <td class="save-c2">{{saveroll}}</td>
                    </tr>
                    <tr>
                        <td class="save-c1">Saving Throw Target:</td>
                        <td class="save-c2">{{savetarget}}</td>
                    </tr>
                    {{#rollTotal() saveroll savetarget}}
                    <tr>
                        <td class="save-c3" colspan="2">Success!</td>
                    </tr>
                    {{/rollTotal() saveroll savetarget}}
                    {{#rollGreater() saveroll savetarget}}
                    <tr>
                        <td class="save-c3" colspan="2">Success!</td>
                    </tr>
                    {{/rollGreater() saveroll savetarget}}
                    {{#rollLess() saveroll savetarget}}
                    <tr>
                        <td class="save-c4" colspan="2">Failed!</td>
                    </tr>
                    {{/rollLess() saveroll savetarget}}
                </table>
            </div>
        </div>
    </rolltemplate>
    <rolltemplate class="sheet-rolltemplate-2Echeck">
        <div class="sheet-template-container">
            <div class="sheet-check-head">
                <table>
                    <tr>
                        <th class="sheet-template-title1">Check vs. {{checkvs}}</th>
                    </tr>
                    <tr>
                        <th class="sheet-template-subtitle1">for {{character}}</th>
                    </tr>
                </table>
            </div>
            <div class="sheet-template-body">
                <table>
                    <tr>
                        <td class="sheet-check-c1">Check Roll:</td>
                        <td class="sheet-check-c2">{{checkroll}}</td>
                    </tr>
                    <tr>
                        <td class="sheet-check-c1">Check Target:</td>
                        <td class="sheet-check-c2">{{checktarget}}</td>
                    </tr>
                    {{#rollTotal() checkroll checktarget}}
                    <tr>
                        <td class="sheet-check-c3" colspan="2">Success!</td>
                    </tr>
                    {{/rollTotal() checkroll checktarget}}
                    {{#rollLess() checkroll checktarget}}
                    <tr>
                        <td class="sheet-check-c3" colspan="2">Success!</td>
                    </tr>
                    {{/rollLess() checkroll checktarget}}
                    {{#rollGreater() checkroll checktarget}}
                    <tr>
                        <td class="sheet-check-c4" colspan="2">Failed!</td>
                    </tr>
                    {{/rollGreater() checkroll checktarget}}
                </table>
            </div>
        </div>
    </rolltemplate>
    <rolltemplate class="sheet-rolltemplate-2Einversecheck">
        <div class="sheet-template-container">
            <div class="sheet-check-head">
                <table>
                    <tr>
                        <th class="sheet-template-title1">Check vs. {{checkvs}}</th>
                    </tr>
                    <tr>
                        <th class="sheet-template-subtitle1">for {{character}}</th>
                    </tr>
                </table>
            </div>
            <div class="sheet-template-body">
                <table>
                    <tr>
                        <td class="sheet-check-c1">Check Roll:</td>
                        <td class="sheet-check-c2">{{checkroll}}</td>
                    </tr>
                    <tr>
                        <td class="sheet-check-c1">Check Target:</td>
                        <td class="sheet-check-c2">{{checktarget}}</td>
                    </tr>
                    {{#rollTotal() checkroll checktarget}}
                    <tr>
                        <td class="sheet-check-c3" colspan="2">Fail!</td>
                    </tr>
                    {{/rollTotal() checkroll checktarget}}
                    {{#rollLess() checkroll checktarget}}
                    <tr>
                        <td class="sheet-check-c3" colspan="2">Fail!</td>
                    </tr>
                    {{/rollLess() checkroll checktarget}}
                    {{#rollGreater() checkroll checktarget}}
                    <tr>
                        <td class="sheet-check-c4" colspan="2">Success!</td>
                    </tr>
                    {{/rollGreater() checkroll checktarget}}
                </table>
            </div>
        </div>
    </rolltemplate>
</div>

<!-- WORKERS -->
<script type="text/worker">

	/* ---- BEGIN: TheAaronSheet.js ---- */
// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
// By:       The Aaron, Arcane Scriptomancer
// Contact:  https://app.roll20.net/users/104025/the-aaron

var TAS = TAS || (function(){
    'use strict';

    var version = '0.2.5',
        lastUpdate = 1504710542,

        loggingSettings = {
            debug: {
                key:     'debug',
                title:   'DEBUG',
                color: {
                    bgLabel: '#7732A2',
                    label:   '#F2EF40',
                    bgText:  '#FFFEB7',
                    text:    '#7732A2'
                }
            },
            error: {
                key:     'error',
                title:   'Error',
                color: {
                    bgLabel: '#C11713',
                    label:   'white',
                    bgText:  '#C11713',
                    text:    'white'
                }
            },
            warn: {
                key:     'warn',
                title:   'Warning',
                color: {
                    bgLabel: '#F29140',
                    label:   'white',
                    bgText:  '#FFD8B7',
                    text:    'black'
                }
            },
            info: {
                key:     'info',
                title:   'Info',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            notice: {
                key:     'notice',
                title:   'Notice',
                color: {
                    bgLabel: '#33C133',
                    label:   'white',
                    bgText:  '#ADF1AD',
                    text:    'black'
                }
            },
            log: {
                key:     'log',
                title:   'Log',
                color: {
                    bgLabel: '#f2f240',
                    label:   'black',
                    bgText:  '#ffff90',
                    text:    'black'
                }
            },
            callstack: {
                key:     'TAS',
                title:   'function',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            callstack_async: {
                key:     'TAS',
                title:   'ASYNC CALL',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#413FA9',
                    text:    'white'
                }
            },
            TAS: {
                key:     'TAS',
                title:   'TAS',
                color: {
                    bgLabel: 'grey',
                    label:   'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
                    bgText:  'grey',
                    text:    'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
                }
            }
        },


        config = {
            debugMode: false,
            logging: {
                log: true,
                notice: true,
                info: true,
                warn: true,
                error: true,
                debug: false
            }
        },

        callstackRegistry = [],
		queuedUpdates = {}, //< Used for delaying saves till the last moment.

    complexType = function(o){
        switch(typeof o){
            case 'string':
                return 'string';
            case 'boolean':
                return 'boolean';
            case 'number':
                return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
            case 'function':
                return 'function: '+(o.name ? o.name+'()' : '(anonymous)');
            case 'object':
                return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : ( _.isNull(o) ? 'null' : 'object')));
            default:
                return typeof o;
        }
    },

	dataLogger = function(primaryLogger,secondaryLogger,data){
        _.each(data,function(m){
            var type = complexType(m);
            switch(type){
                case 'string':
                    primaryLogger(m);
                    break;
                case 'undefined':
                case 'null':
                case 'NaN':
                    primaryLogger('['+type+']');
                    break;
                case 'number':
                case 'not a number':
                case 'integer':
                case 'decimal':
                case 'boolean':
                    primaryLogger('['+type+']: '+m);
                    break;
                default:
                    primaryLogger('['+type+']:=========================================');
                    secondaryLogger(m);
                    primaryLogger('=========================================================');
                    break;
            }
        });
	},


    colorLog = function(options){
        var coloredLoggerFunction,
            key = options.key,
            label = options.title || 'TAS',
            lBGColor = (options.color && options.color.bgLabel) || 'blue',
            lTxtColor = (options.color && options.color.label) || 'white',
            mBGColor = (options.color && options.color.bgText) || 'blue',
            mTxtColor = (options.color && options.color.text) || 'white';

        coloredLoggerFunction = function(message){
            /* eslint-disable no-console */
            console.log(
                '%c '+label+': %c '+message + ' ',
                'background-color: '+lBGColor+';color: '+lTxtColor+'; font-weight:bold;',
                'background-color: '+mBGColor+';color: '+mTxtColor+';'
            ); 
            /* eslint-enable no-console */
        };
        return function(){
            if('TAS'===key || config.logging[key]){
                /* eslint-disable no-console */
               dataLogger(coloredLoggerFunction,function(m){console.log(m);},_.toArray(arguments)); 
                /* eslint-enable no-console */
            }
        };
    },

    logDebug  = colorLog(loggingSettings.debug),
    logError  = colorLog(loggingSettings.error),
    logWarn   = colorLog(loggingSettings.warn),
    logInfo   = colorLog(loggingSettings.info),
    logNotice = colorLog(loggingSettings.notice),
    logLog    = colorLog(loggingSettings.log),
    log       = colorLog(loggingSettings.TAS),
    logCS     = colorLog(loggingSettings.callstack),
    logCSA    = colorLog(loggingSettings.callstack_async),

    registerCallstack = function(callstack,label){
        var idx=_.findIndex(callstackRegistry,function(o){
            return (_.difference(o.stack,callstack).length === _.difference(callstack,o.stack).length) &&
                _.difference(o.stack,callstack).length === 0 &&
                o.label === label;
        });
        if(-1 === idx){
            idx=callstackRegistry.length;
            callstackRegistry.push({
                stack: callstack,
                label: label
            });
        }
        return idx;
    },

    setConfigOption = function(options){
        var newconf =_.defaults(options,config);
        newconf.logging=_.defaults(
            (options && options.logging)||{},
            config.logging
        );
        config=newconf;
    },
    
    isDebugMode = function(){
        return config.debugMode;
    },

    debugMode = function(){
        config.logging.debug=true;
        config.debugMode = true;
    },

    getCallstack = function(){
        var e = new Error('dummy'),
            stack = _.map(_.rest(e.stack.replace(/^[^(]+?[\n$]/gm, '')
            .replace(/^\s+at\s+/gm, '')
            .replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@')
            .split('\n')),function(l){
                return l.replace(/\s+.*$/,'');
            });
        return stack;
    },
    logCallstackSub = function(cs){
        var matches, csa;
        _.find(cs,function(line){
            matches = line.match(/TAS_CALLSTACK_(\d+)/);
            if(matches){
               csa=callstackRegistry[matches[1]];
               logCSA( '===================='+(csa.label ? '> '+csa.label+' <' : '')+'====================');
               logCallstackSub(csa.stack);
               return true;
            } 
            logCS(line);
            return false;
        });
    },
    logCallstack = function(){
        var cs;
        if(config.debugMode){
            cs = getCallstack();
            cs.shift();
            log('==============================> CALLSTACK <==============================');
            logCallstackSub(cs);
            log('=========================================================================');
        }
    },


    wrapCallback = function (label, callback, context){
        var callstack;
        if('function' === typeof label){
            context=callback;
            callback=label;
            label=undefined;
        }
        if(!config.debugMode){
            return (function(cb,ctx){
                return function(){
                    cb.apply(ctx||{},arguments);
                };
            }(callback,context));
        }
        
        callstack = getCallstack();
        callstack.shift();
        
        return (function(cb,ctx,cs,lbl){
            var ctxref=registerCallstack(cs,lbl);

            /*jshint -W054 */
            return new Function('cb','ctx','TASlog',
                "return function TAS_CALLSTACK_"+ctxref+"(){"+
                    "var start,end;"+
                    "TASlog('Entering: '+(cb.name||'(anonymous function)'));"+
                    "start=_.now();"+
                    "cb.apply(ctx||{},arguments);"+
                    "end=_.now();"+
                    "TASlog('Exiting: '+(cb.name||'(anonymous function)')+' :: '+(end-start)+'ms elapsed');"+
                "};")(cb,ctx,log);
            /*jshint +W054 */
        }(callback,context,callstack,label));
    },


    prepareUpdate = function( attribute, value ){
        queuedUpdates[attribute]=value;
    },

    applyQueuedUpdates = function() {
      setAttrs(queuedUpdates);
      queuedUpdates = {};
    },

	namesFromArgs = function(args,base){
        return _.chain(args)
            .reduce(function(memo,attr){
                if('string' === typeof attr) {
                    memo.push(attr);
                } else if(_.isArray(args) || _.isArguments(args)){
                    memo = namesFromArgs(attr,memo);
                }
                return memo;
            },(_.isArray(base) && base) || [])
            .uniq()
            .value();
	},

	addId = function(obj,value){
		Object.defineProperty(obj,'id',{
			value: value,
			writable: false,
			enumerable: false
		});
	},

	addProp = function(obj,prop,value,fullname){
		(function(){
            var pname=(_.contains(['S','F','I','D'],prop) ? '_'+prop : prop),
                full_pname = fullname || prop,
                pvalue=value;

            _.each(['S','I','F'],function(p){
                if( !_.has(obj,p)){
                    Object.defineProperty(obj, p, {
                        value: {},
                        enumerable: false,
                        readonly: true
                    });
                }
            });
            if( !_.has(obj,'D')){
                Object.defineProperty(obj, 'D', {
                    value: _.reduce(_.range(10),function(m,d){
                            Object.defineProperty(m, d, {
                                value: {},
                                enumerable: true,
                                readonly: true
                            });
                            return m;
                        },{}),
                    enumerable: false,
                    readonly: true
                });
            }


            // Raw value
			Object.defineProperty(obj, pname, {
                enumerable: true,
				set: function(v){
                    if(v!==pvalue) {
                        pvalue=v;
                        prepareUpdate(full_pname,v);
                    }
				},
				get: function(){
					return pvalue;
				}
			});
            
            // string value
			Object.defineProperty(obj.S, pname, {
                enumerable: true,
				set: function(v){
                    var val=v.toString();
                    if(val !== pvalue) {
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return pvalue.toString();
				}
			});

            // int value
			Object.defineProperty(obj.I, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseInt(v,10) || 0;
                    if(val !== pvalue){
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return parseInt(pvalue,10) || 0;
				}
			});

            // float value
			Object.defineProperty(obj.F, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseFloat(v) || 0;
                    if(val !== pvalue) {
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return parseFloat(pvalue) || 0;
				}
			});
            _.each(_.range(10),function(d){
                Object.defineProperty(obj.D[d], pname, {
                    enumerable: true,
                    set: function(v){
                        var val=(parseFloat(v) || 0).toFixed(d);
                        if(val !== pvalue){
                            pvalue=val;
                            prepareUpdate(full_pname,val);
                        }
                    },
                    get: function(){
                        return (parseFloat(pvalue) || 0).toFixed(d);
                    }
                });
            });

		}());
	},
	
	repeating = function( section ) {
		return (function(s){
			var sectionName = s,
				attrNames = [],
				fieldNames = [],
				operations = [],
                after = [],
			
			repAttrs = function TAS_Repeating_Attrs(){
				attrNames = namesFromArgs(arguments,attrNames);
				return this;
			},
			repFields = function TAS_Repeating_Fields(){
				fieldNames = namesFromArgs(arguments,fieldNames);
				return this;
			},
			repReduce = function TAS_Repeating_Reduce(func, initial, final, context) { 
				operations.push({
                    type: 'reduce',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    memo: (_.isUndefined(initial) && 0) || initial,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
			repMap = function TAS_Repeating_Map(func, final, context) {
				operations.push({
                    type: 'map',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
            repEach = function TAS_Repeating_Each(func, final, context) {
				operations.push({
                    type: 'each',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repTap = function TAS_Repeating_Tap(final, context) {
				operations.push({
                    type: 'tap',
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repAfter = function TAS_Repeating_After(callback,context) {
				after.push({
                    callback: (callback && _.isFunction(callback) && callback) || _.noop,
                    context: context || {}
                });
				return this;
            },
			repExecute = function TAS_Repeating_Execute(callback,context){
				var rowSet = {},
					attrSet = {},
					fieldIds = [],
					fullFieldNames = [];

                repAfter(callback,context);

				// call each operation per row.
				// call each operation's final
				getSectionIDs("repeating_"+sectionName,function(ids){
					fieldIds = ids;
					fullFieldNames = _.reduce(fieldIds,function(memo,id){
						return memo.concat(_.map(fieldNames,function(name){
							return 'repeating_'+sectionName+'_'+id+'_'+name;  
						}));
					},[]);
					getAttrs( _.uniq(attrNames.concat(fullFieldNames)), function(values){
						_.each(attrNames,function(aname){
							if(values.hasOwnProperty(aname)){
								addProp(attrSet,aname,values[aname]);
							}
						});

						rowSet = _.reduce(fieldIds,function(memo,id){
							var r={};
							addId(r,id);
							_.each(fieldNames,function(name){
								var fn = 'repeating_'+sectionName+'_'+id+'_'+name;  
								addProp(r,name,values[fn],fn);
							});

							memo[id]=r;

							return memo;
						},{});

                        _.each(operations,function(op){
                            var res;
                            switch(op.type){
                                case 'tap':
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'each':
                                    _.each(rowSet,function(r){
                                        _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'map':
                                    res = _.map(rowSet,function(r){
                                        return _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;

                                case 'reduce':
                                    res = op.memo;
                                    _.each(rowSet,function(r){
                                        res = _.bind(op.func,op.context,res,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;
                            }
                        });

                        // finalize attrs
                        applyQueuedUpdates();
                        _.each(after,function(op){
                            _.bind(op.callback,op.context)();
                        });
					});
				});
			};
				
			return {
				attrs: repAttrs,
				attr: repAttrs,

				column: repFields,
				columns: repFields,
				field: repFields,
				fields: repFields,

				reduce: repReduce,
				inject: repReduce,
				foldl: repReduce,

				map: repMap,
				collect: repMap,

				each: repEach,
                forEach: repEach,

                tap: repTap,
                'do': repTap,

				after: repAfter,
				last: repAfter,
				done: repAfter,

				execute: repExecute,
				go: repExecute,
				run: repExecute
			};
		}(section));
	},


    repeatingSimpleSum = function(section, field, destination){
        repeating(section)
            .attr(destination)
            .field(field)
            .reduce(function(m,r){
                return m + (r.F[field]);
            },0,function(t,r,a){
                a.S[destination]=t;
            })
            .execute();
    };

    /* eslint-disable no-console */
	console.log('%c•.¸¸.•*´¨`*•.¸¸.•*´¨`*•.¸  The Aaron Sheet  v'+version+'  ¸.•*´¨`*•.¸¸.•*´¨`*•.¸¸.•','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
	console.log('%c•.¸¸.•*´¨`*•.¸¸.•*´¨`*•.¸  Last update: '+(new Date(lastUpdate*1000))+'  ¸.•*´¨`*•.¸¸.•*´¨`*•.¸¸.•','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
    /* eslint-enable no-console */


    return {
        /* Repeating Sections */
        repeatingSimpleSum: repeatingSimpleSum,
		repeating: repeating,

        /* Configuration */
        config: setConfigOption,

        /* Debugging */
        callback: wrapCallback,
        callstack: logCallstack,
        debugMode: debugMode,
        isDebugMode: isDebugMode,
        _fn: wrapCallback,

        /* Logging */
        debug: logDebug,
        error: logError,
        warn: logWarn,
        info: logInfo,
        notice: logNotice,
        log: logLog
    };
}());
/* ---- END: TheAaronSheet.js ---- */

    //Set attributes based on strength
    var text1 = "10";
    var ntext = "10";
    var exc_str = 10;
    on("change:strength", function() {
      getAttrs(["strength"], function(values) {
        switch (values.strength) {
          case "0":
            setAttrs({
              strengthhit: "+0",
              strengthdmg: "+0",
              carryweight: "0",
              maxpress: "0",
              open: "0",
              bend: "0",
              strnotes: "INVALID STR",
			  baseweight: "0",
			  lightweight: "0",
			  modweight: "0",
			  heavyweight: "0",
			  sevweight: "0"
            });
            break;
          case "1":
            setAttrs({
              strengthhit: "-5",
              strengthdmg: "-4",
              carryweight: "1",
              maxpress: "3",
              open: "1",
              bend: "0",
			  baseweight: "0",
			  lightweight: "0",
			  modweight: "0",
			  heavyweight: "0",
			  sevweight: "1"
            });
            break;
          case "2":
            setAttrs({
              strengthhit: "-3",
              strengthdmg: "-2",
              carryweight: "1",
              maxpress: "5",
              open: "1",
              bend: "0",
			  baseweight: "1",
			  lightweight: "2",
			  modweight: "3",
			  heavyweight: "4",
			  sevweight: "6"
            });
            break;
          case "3":
            setAttrs({
              strengthhit: "-3",
              strengthdmg: "-1",
              carryweight: "5",
              maxpress: "10",
              open: "2",
              bend: "0",
			  baseweight: "5",
			  lightweight: "6",
			  modweight: "7",
			  heavyweight: "9",
			  sevweight: "10"
            });
            break;
          case "4":
          case "5":
            setAttrs({
              strengthhit: "-2",
              strengthdmg: "-1",
              carryweight: "10",
              maxpress: "25",
              open: "3",
              bend: "0",
			  baseweight: "10",
			  lightweight: "13",
			  modweight: "16",
			  heavyweight: "19",
			  sevweight: "25"
            });
            break;
          case "6":
          case "7":
            setAttrs({
              strengthhit: "-1",
              strengthdmg: "+0",
              carryweight: "20",
              maxpress: "55",
              open: "4",
              bend: "0",
			  baseweight: "20",
			  lightweight: "29",
			  modweight: "38",
			  heavyweight: "46",
			  sevweight: "55"
            });
            break;
          case "8":
          case "9":
            setAttrs({
              strengthhit: "+0",
              strengthdmg: "+0",
              carryweight: "35",
              maxpress: "90",
              open: "5",
              bend: "1",
			  baseweight: "35",
			  lightweight: "50",
			  modweight: "65",
			  heavyweight: "80",
			  sevweight: "90"
            });
            break;
          case "10":
          case "11":
            setAttrs({
              strengthhit: "+0",
              strengthdmg: "+0",
              carryweight: "40",
              maxpress: "115",
              open: "6",
              bend: "2",
			  baseweight: "40",
			  lightweight: "58",
			  modweight: "76",
			  heavyweight: "96",
			  sevweight: "115"
            });
            break;
          case "12":
          case "13":
            setAttrs({
              strengthhit: "+0",
              strengthdmg: "+0",
              carryweight: "45",
              maxpress: "140",
              open: "7",
              bend: "4",
			  baseweight: "45",
			  lightweight: "69",
			  modweight: "93",
			  heavyweight: "117",
			  sevweight: "140"
            });
            break;
          case "14":
          case "15":
            setAttrs({
              strengthhit: "+0",
              strengthdmg: "+0",
              carryweight: "55",
              maxpress: "170",
              open: "8",
              bend: "7",
			  baseweight: "55",
			  lightweight: "85",
			  modweight: "115",
			  heavyweight: "145",
			  sevweight: "170"
            });
            break;
          case "16":
            setAttrs({
              strengthhit: "+0",
              strengthdmg: "+1",
              carryweight: "70",
              maxpress: "195",
              open: "9",
              bend: "10",
			  baseweight: "70",
			  lightweight: "100",
			  modweight: "130",
			  heavyweight: "160",
			  sevweight: "195"
            });
            break;
          case "17":
            setAttrs({
              strengthhit: "+1",
              strengthdmg: "+1",
              carryweight: "85",
              maxpress: "220",
              open: "10",
              bend: "13",
			  baseweight: "85",
			  lightweight: "121",
			  modweight: "157",
			  heavyweight: "193",
			  sevweight: "220"
            });
            break;
          case "18":
            setAttrs({
              strengthhit: "+1",
              strengthdmg: "+2",
              carryweight: "110",
              maxpress: "255",
              open: "11",
              bend: "16",
			  baseweight: "110",
			  lightweight: "149",
			  modweight: "188",
			  heavyweight: "227",
			  sevweight: "255"
            });
            break;
          case "19":
            setAttrs({
              strengthhit: "+3",
              strengthdmg: "+7",
              carryweight: "485",
              maxpress: "640",
              open: "16(8)",
              bend: "50",
			  baseweight: "485",
			  lightweight: "524",
			  modweight: "563",
			  heavyweight: "602",
			  sevweight: "640"
            });
            break;
          case "20":
            setAttrs({
              strengthhit: "+3",
              strengthdmg: "+8",
              carryweight: "535",
              maxpress: "700",
              open: "17(10)",
              bend: "60",
			  baseweight: "535",
			  lightweight: "574",
			  modweight: "613",
			  heavyweight: "652",
			  sevweight: "700"
            });
            break;
          case "21":
            setAttrs({
              strengthhit: "+4",
              strengthdmg: "+9",
              carryweight: "635",
              maxpress: "810",
              open: "17(12)",
              bend: "70",
			  baseweight: "635",
			  lightweight: "674",
			  modweight: "713",
			  heavyweight: "752",
			  sevweight: "810"
            });
            break;
          case "22":
            setAttrs({
              strengthhit: "+4",
              strengthdmg: "+10",
              carryweight: "785",
              maxpress: "970",
              open: "18(14)",
              bend: "80",
			  baseweight: "785",
			  lightweight: "824",
			  modweight: "863",
			  heavyweight: "902",
			  sevweight: "970"
            });
            break;
          case "23":
            setAttrs({
              strengthhit: "+5",
              strengthdmg: "+11",
              carryweight: "935",
              maxpress: "1130",
              open: "18(16)",
              bend: "90",
			  baseweight: "935",
			  lightweight: "974",
			  modweight: "1013",
			  heavyweight: "1052",
			  sevweight: "1130"
            });
            break;
          case "24":
            setAttrs({
              strengthhit: "+6",
              strengthdmg: "+12",
              carryweight: "1235",
              maxpress: "1440",
              open: "19(17)",
              bend: "95",
			  baseweight: "1235",
			  lightweight: "1274",
			  modweight: "1313",
			  heavyweight: "1352",
			  sevweight: "1440"
            });
            break;
          case "25":
            setAttrs({
              strengthhit: "+7",
              strengthdmg: "+14",
              carryweight: "1535",
              maxpress: "1750",
              open: "19(18)",
              bend: "99",
			  baseweight: "1535",
			  lightweight: "1574",
			  modweight: "1613",
			  heavyweight: "1652",
			  sevweight: "1750"
            });
            break;
          default:
            // Checking if not a number or greater then 25 then set everything to 0
            if (_.isNaN(parseInt(values.strength))) {
              setAttrs({
                strengthhit: "+0",
                strengthdmg: "+0",
                carryweight: "0",
                maxpress: "0",
                open: "0",
                bend: "0",
                strnotes: "INVALID STR",
			    baseweight: "0",
			    lightweight: "0",
			    modweight: "0",
			    heavyweight: "0",
			    sevweight: "0"
              });
              break;
            } 
    		if (parseInt(values.strength) > 25) {
              setAttrs({
                strengthhit: "+0",
                strengthdmg: "+0",
                carryweight: "0",
                maxpress: "0",
                open: "0",
                bend: "0",
                strnotes: "INVALID STR",
			    baseweight: "0",
			    lightweight: "0",
			    modweight: "0",
			    heavyweight: "0",
			    sevweight: "0"
              });
              break;
            } 
            // Exceptional Strength now need Value between ()
            text1 = values.strength;
            ntext = text1.replace("18 (", "");
            ntext = ntext.replace("18(", "");
            exc_str = parseInt(ntext);
            if (_.isNaN(exc_str)) {
                setAttrs({
                  strengthhit: "+0",
                  strengthdmg: "+0",
                  carryweight: "0",
                  maxpress: "0",
                  open: "0",
                  bend: "0",
                  strnotes: "INVALID STR",
			      baseweight: "0",
			      lightweight: "0",
			      modweight: "0",
			      heavyweight: "0",
			      sevweight: "0"
                });
                break;
            }
            switch (true) {
              case (exc_str > 0 && exc_str < 51):
                setAttrs({
                  strengthhit: "+1",
                  strengthdmg: "+3",
                  carryweight: "135",
                  maxpress: "280",
                  open: "12",
                  bend: "20",
				  baseweight: "135",
				  lightweight: "174",
				  modweight: "213",
				  heavyweight: "252",
				  sevweight: "280"
                });
                break;
              case (exc_str > 50 && exc_str < 76):
                setAttrs({
                  strengthhit: "+2",
                  strengthdmg: "+3",
                  carryweight: "160",
                  maxpress: "305",
                  open: "13",
                  bend: "25",
				  baseweight: "160",
				  lightweight: "199",
				  modweight: "238",
				  heavyweight: "277",
				  sevweight: "305"
                });
                break;
              case (exc_str > 75 && exc_str < 91):
                setAttrs({
                  strengthhit: "+2",
                  strengthdmg: "+4",
                  carryweight: "185",
                  maxpress: "330",
                  open: "14",
                  bend: "30",
				  baseweight: "185",
				  lightweight: "224",
				  modweight: "263",
				  heavyweight: "302",
				  sevweight: "330"
                });
                break;
              case (exc_str > 90 && exc_str < 100):
                setAttrs({
                  strengthhit: "+2",
                  strengthdmg: "+5",
                  carryweight: "235",
                  maxpress: "380",
                  open: "15(3)",
                  bend: "35",
				  baseweight: "235",
				  lightweight: "274",
				  modweight: "313",
				  heavyweight: "352",
				  sevweight: "380"
                });
                break;
              case (exc_str < 1):
              case (exc_str > 99): //100 can be (100) or (00)
                setAttrs({
                  strengthhit: "+3",
                  strengthdmg: "+6",
                  carryweight: "335",
                  maxpress: "480",
                  open: "16(6)",
                  bend: "40",
				  baseweight: "335",
				  lightweight: "374",
				  modweight: "413",
				  heavyweight: "452",
				  sevweight: "480"
                });
                break;
            } //end switch exceptional str
        } //end switch
      }); //end getAttrs
    }); //end on("change:strength")
          
    //Set attributes based on dexterity
    on("change:dexterity", function() {
     getAttrs(["dexterity"], function(values) {
    switch (values.dexterity) {
      case "1":
     setAttrs({
       dexreact: "-6",
       dexmissile: "-6",
       dexdefense: "-5",
       ppd: "-55",
       old: "-50",
       rtd: "-50",
       msd: "-60",
       hsd: "-50",
       cwd: "-50",
       tud: "-50",
       ebd: "-55"
     });
     break;
      case "2":
     setAttrs({
       dexreact: "-4",
       dexmissile: "-4",
       dexdefense: "-5",
       ppd: "-50",
       old: "-45",
       rtd: "-45",
       msd: "-55",
       hsd: "-45",
       cwd: "-45",
       tud: "-45",
       ebd: "-50"
     });
     break;
      case "3":
     setAttrs({
       dexreact: "-3",
       dexmissile: "-3",
       dexdefense: "-4",
       ppd: "-45",
       old: "-40",
       rtd: "-40",
       msd: "-50",
       hsd: "-40",
       cwd: "-40",
       tud: "-40",
       ebd: "-45"
     });
     break;
      case "4":
     setAttrs({
       dexreact: "-2",
       dexmissile: "-2",
       dexdefense: "-3",
       ppd: "-40",
       old: "-35",
       rtd: "-35",
       msd: "-45",
       hsd: "-35",
       cwd: "-35",
       tud: "-35",
       ebd: "-40"
     });
     break;
      case "5":
     setAttrs({
       dexreact: "-1",
       dexmissile: "-1",
       dexdefense: "-2",
       ppd: "-35",
       old: "-30",
       rtd: "-30",
       msd: "-40",
       hsd: "-30",
       cwd: "-30",
       tud: "-30",
       ebd: "-35"
     });
     break;
      case "6":
     setAttrs({
       dexreact: "+0",
       dexmissile: "+0",
       dexdefense: "-1",
       ppd: "-30",
       old: "-25",
       rtd: "-25",
       msd: "-35",
       hsd: "-25",
       cwd: "-25",
       tud: "-25",
       ebd: "-30"
     });
     break;
      case "7":
     setAttrs({
       dexreact: "+0",
       dexmissile: "+0",
       dexdefense: "+0",
       ppd: "-25",
       old: "-20",
       rtd: "-20",
       msd: "-30",
       hsd: "-20",
       cwd: "-20",
       tud: "-20",
       ebd: "-25"
     });
     break;
      case "8":
     setAttrs({
       dexreact: "+0",
       dexmissile: "+0",
       dexdefense: "+0",
       ppd: "-20",
       old: "-15",
       rtd: "-15",
       msd: "-25",
       hsd: "-15",
       cwd: "-15",
       tud: "-15",
       ebd: "-20"
     });
     break;
      case "9":
     setAttrs({
       dexreact: "+0",
       dexmissile: "+0",
       dexdefense: "+0",
       ppd: "-15",
       old: "-10",
       rtd: "-10",
       msd: "-20",
       hsd: "-10",
       cwd: "-10",
       tud: "-10",
       ebd: "-15"
     });
     break;
      case "10":
     setAttrs({
       dexreact: "+0",
       dexmissile: "+0",
       dexdefense: "+0",
       ppd: "-10",
       old: "-5",
       rtd: "-10",
       msd: "-15",
       hsd: "-5",
       cwd: "-5",
       tud: "-5",
       ebd: "-10"
     });
     break;
      case "11":
     setAttrs({
       dexreact: "+0",
       dexmissile: "+0",
       dexdefense: "+0",
       ppd: "-5",
       old: "+0",
       rtd: "-5",
       msd: "-10",
       hsd: "+0",
       cwd: "+0",
       tud: "+0",
       ebd: "-5"
     });
     break;
      case "12":
     setAttrs({
       dexreact: "+0",
       dexmissile: "+0",
       dexdefense: "+0",
       ppd: "+0",
       old: "+0",
       rtd: "+0",
       msd: "-5",
       hsd: "+0",
       cwd: "+0",
       tud: "+0",
       ebd: "+0"
     });
     break;
      case "13":
     setAttrs({
       dexreact: "+0",
       dexmissile: "+0",
       dexdefense: "+0",
       ppd: "+0",
       old: "+0",
       rtd: "+0",
       msd: "+0",
       hsd: "+0",
       cwd: "+0",
       tud: "+0",
       ebd: "+0"
     });
     break;
      case "14":
     setAttrs({
       dexreact: "+0",
       dexmissile: "+0",
       dexdefense: "+0",
       ppd: "+0",
       old: "+0",
       rtd: "+0",
       msd: "+0",
       hsd: "+0",
       cwd: "+0",
       tud: "+0",
       ebd: "+0"
     });
     break;
      case "15":
     setAttrs({
       dexreact: "+0",
       dexmissile: "+0",
       dexdefense: "+1",
       ppd: "+0",
       old: "+0",
       rtd: "+0",
       msd: "+0",
       hsd: "+0",
       cwd: "+0",
       tud: "+0",
       ebd: "+0"
     });
     break;
      case "16":
     setAttrs({
       dexreact: "+1",
       dexmissile: "+1",
       dexdefense: "+2",
       ppd: "+0",
       old: "+5",
       rtd: "+0",
       msd: "+0",
       hsd: "+0",
       cwd: "+0",
       tud: "+0",
       ebd: "+0"
     });
     break;
      case "17":
     setAttrs({
       dexreact: "+2",
       dexmissile: "+2",
       dexdefense: "+3",
       ppd: "+5",
       old: "+10",
       rtd: "+0",
       msd: "+5",
       hsd: "+5",
       cwd: "+5",
       tud: "+0",
       ebd: "+5"
     });
     break;
      case "18":
     setAttrs({
       dexreact: "+2",
       dexmissile: "+2",
       dexdefense: "+4",
       ppd: "+10",
       old: "+15",
       rtd: "+5",
       msd: "+10",
       hsd: "+10",
       cwd: "+10",
       tud: "+5",
       ebd: "+10"
     });
     break;
      case "19":
     setAttrs({
       dexreact: "+3",
       dexmissile: "+3",
       dexdefense: "+4",
       ppd: "+15",
       old: "+20",
       rtd: "+10",
       msd: "+15",
       hsd: "+15",
       cwd: "+15",
       tud: "+10",
       ebd: "+15"
     });
     break;
      case "20":
     setAttrs({
       dexreact: "+3",
       dexmissile: "+3",
       dexdefense: "+4",
       ppd: "+20",
       old: "+20",
       rtd: "+15",
       msd: "+15",
       hsd: "+20",
       cwd: "+20",
       tud: "+15",
       ebd: "+20"
     });
     break;
      case "21":
     setAttrs({
       dexreact: "+4",
       dexmissile: "+4",
       dexdefense: "+5",
       ppd: "+20",
       old: "+25",
       rtd: "+20",
       msd: "+20",
       hsd: "+25",
       cwd: "+20",
       tud: "+20",
       ebd: "+25"
     });
     break;
      case "22":
     setAttrs({
       dexreact: "+4",
       dexmissile: "+4",
       dexdefense: "+5",
       ppd: "+25",
       old: "+25",
       rtd: "+20",
       msd: "+20",
       hsd: "+30",
       cwd: "+25",
       tud: "+30",
       ebd: "+30"
     });
     break;
      case "23":
     setAttrs({
       dexreact: "+4",
       dexmissile: "+4",
       dexdefense: "+5",
       ppd: "+25",
       old: "30",
       rtd: "+25",
       msd: "+25",
       hsd: "+35",
       cwd: "+25",
       tud: "+35",
       ebd: "+35"
     });
     break;
      case "24":
     setAttrs({
       dexreact: "+5",
       dexmissile: "+5",
       dexdefense: "+6",
       ppd: "+30",
       old: "+30",
       rtd: "+25",
       msd: "+25",
       hsd: "+40",
       cwd: "+30",
       tud: "+40",
       ebd: "+40"
     });
     break;
      case "25":
     setAttrs({
       dexreact: "+5",
       dexmissile: "+5",
       dexdefense: "+6",
       ppd: "+35",
       old: "+35",
       rtd: "+30",
       msd: "+30",
       hsd: "+45",
       cwd: "+35",
       tud: "+45",
       ebd: "+45"
     });
     break;
      default: // if not a number or greater then 25 then set everything to 0
     setAttrs({
       dexreact: "+0",
       dexmissile: "+0",
       dexdefense: "+0",
       ppd: "+0",
       old: "+0",
       rtd: "+0",
       msd: "+0",
       hsd: "+0",
       cwd: "+0",
       tud: "+0",
       ebd: "+0",
       dexnotes: "INVALID DEX"
     });
    } //end switch
     }); //end getAttrs
    }); //end on("change:dexterity")
    //Set attributes based on constitution
    on("change:constitution", function() {
    getAttrs(["constitution", "class"], function(values) {
    var str = values.class;
    var booleanMatch = /paladin|warrior|ranger|fighter/i.test(str);
    switch (values.constitution) {
      case "1":
     setAttrs({
       conadj: "-3",
       conshock: "25",
       conres: "30",
       conpoisonbonus: "-2",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "2":
     setAttrs({
       conadj: "-2",
       conshock: "30",
       conres: "35",
       conpoisonbonus: "-1",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "3":
     setAttrs({
       conadj: "-2",
       conshock: "35",
       conres: "40",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "4":
     setAttrs({
       conadj: "-1",
       conshock: "40",
       conres: "45",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "5":
     setAttrs({
       conadj: "-1",
       conshock: "45",
       conres: "50",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "6":
     setAttrs({
       conadj: "-1",
       conshock: "50",
       conres: "55",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "7":
     setAttrs({
       conadj: "+0",
       conshock: "55",
       conres: "60",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "8":
     setAttrs({
       conadj: "+0",
       conshock: "60",
       conres: "65",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "9":
     setAttrs({
       conadj: "+0",
       conshock: "65",
       conres: "70",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "10":
     setAttrs({
       conadj: "+0",
       conshock: "70",
       conres: "75",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "11":
     setAttrs({
       conadj: "+0",
       conshock: "75",
       conres: "80",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "12":
     setAttrs({
       conadj: "+0",
       conshock: "80",
       conres: "85",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "13":
     setAttrs({
       conadj: "+0",
       conshock: "85",
       conres: "90",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "14":
     setAttrs({
       conadj: "+0",
       conshock: "88",
       conres: "92",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "15":
     setAttrs({
       conadj: "+1",
       conshock: "90",
       conres: "94",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "16":
     setAttrs({
       conadj: "+2",
       conshock: "95",
       conres: "96",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0"
     });
     break;
      case "17":
     if (booleanMatch) {
       setAttrs({
    	 conadj: "+3",
    	 conshock: "97",
    	 conres: "98",
    	 conpoisonbonus: "+0",
    	 conmagicbonus: "+0",
    	 conregen: "0"
       });
     } else {
       setAttrs({
    	 conadj: "+2",
    	 conshock: "97",
    	 conres: "98",
    	 conpoisonbonus: "+0",
    	 conmagicbonus: "+0",
    	 conregen: "0"
       });
     }
     break;
      case "18":
     if (booleanMatch) {
       setAttrs({
    	 conadj: "+4",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+0",
    	 conmagicbonus: "+0",
    	 conregen: "0"
       });
     } else {
       setAttrs({
    	 conadj: "+2",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+0",
    	 conmagicbonus: "+0",
    	 conregen: "0"
       });
     }
     break;
      case "19":
     if (booleanMatch) {
       setAttrs({
    	 conadj: "+5",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+1",
    	 conmagicbonus: "+0",
    	 conregen: "0"
       });
     } else {
       setAttrs({
    	 conadj: "+2",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+1",
    	 conmagicbonus: "+0",
    	 conregen: "0"
       });
     }
     break;
      case "20":
     if (booleanMatch) {
       setAttrs({
    	 conadj: "+5",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+1",
    	 conmagicbonus: "+0",
    	 conregen: "1/6",
    	 connotes: "1 hp/6 Turns - not acid/fire"
       });
     } else {
       setAttrs({
    	 conadj: "+2",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+1",
    	 conmagicbonus: "+0",
    	 conregen: "1/6",
    	 connotes: "1 hp/6 Turns - not acid/fire"
       });
     }
     break;
      case "21":
     if (booleanMatch) {
       setAttrs({
    	 conadj: "+6",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+2",
    	 conmagicbonus: "+0",
    	 conregen: "1/5",
    	 connotes: "1 hp/5 Turns - not acid/fire"
       });
     } else {
       setAttrs({
    	 conadj: "+2",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+2",
    	 conmagicbonus: "+0",
    	 conregen: "1/5",
    	 connotes: "1 hp/5 Turns - not acid/fire"
       });
     }
     break;
      case "22":
     if (booleanMatch) {
       setAttrs({
    	 conadj: "+6",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+2",
    	 conmagicbonus: "+0",
    	 conregen: "1/4",
    	 connotes: "1 hp/4 Turns - not acid/fire"
       });
     } else {
       setAttrs({
    	 conadj: "+2",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+2",
    	 conmagicbonus: "+0",
    	 conregen: "1/4",
    	 connotes: "1 hp/4 Turns - not acid/fire"
       });
     }
     break;
      case "23":
     if (booleanMatch) {
       setAttrs({
    	 conadj: "+6",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+3",
    	 conmagicbonus: "+0",
    	 conregen: "1/3",
    	 connotes: "1 hp/3 Turns - not acid/fire"
       });
     } else {
       setAttrs({
    	 conadj: "+2",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+3",
    	 conmagicbonus: "+0",
    	 conregen: "1/3",
    	 connotes: "1 hp/3 Turns - not acid/fire"
       });
     }
     break;
      case "24":
     if (booleanMatch) {
       setAttrs({
    	 conadj: "+7",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+3",
    	 conmagicbonus: "+0",
    	 conregen: "1/2",
    	 connotes: "1 hp/2 Turns - not acid/fire"
       });
     } else {
       setAttrs({
    	 conadj: "+2",
    	 conshock: "99",
    	 conres: "100",
    	 conpoisonbonus: "+3",
    	 conmagicbonus: "+0",
    	 conregen: "1/2",
    	 connotes: "1 hp/2 Turns - not acid/fire"
       });
     }
     break;
      case "25":
     if (booleanMatch) {
       setAttrs({
    	 conadj: "+7",
    	 conshock: "100",
    	 conres: "100",
    	 conpoisonbonus: "+4",
    	 conmagicbonus: "+0",
    	 conregen: "1/1",
    	 connotes: "1 hp/Turn - not acid/fire"
       });
     } else {
       setAttrs({
    	 conadj: "+2",
    	 conshock: "100",
    	 conres: "100",
    	 conpoisonbonus: "+4",
    	 conmagicbonus: "+0",
    	 conregen: "1/1",
    	 connotes: "1 hp/Turn - not acid/fire"
       });
     }
     break;
      default: // if not a number or greater then 25 then set everything to 0
     setAttrs({
       conadj: "+0",
       conshock: "+0",
       conres: "+0",
       conpoisonbonus: "+0",
       conmagicbonus: "+0",
       conregen: "0",
       connotes: " ",
       connotes: "INVALID CON"
     });
     break;
    } //end switch
     }); //end getAttrs
    }); //end on("change:constitution")
    //Set attributes based on Intelligence
    on("change:Intelligence", function() {
     getAttrs(["Intelligence"], function(values) {
    switch (values.Intelligence) {
      case "1":
     setAttrs({
       intlang: "0",
       intlvl: "",
       intchance: "",
       intmax: "",
       intimm: "",
       intnotes: "Communicate by Grunts & Gestures"
     });
     break;
      case "2":
     setAttrs({
       intlang: "1",
       intlvl: "",
       intchance: "",
       intmax: "",
       intimm: ""
     });
     break;
      case "3":
     setAttrs({
       intlang: "1",
       intlvl: "",
       intchance: "",
       intmax: "",
       intimm: ""
     });
     break;
      case "4":
     setAttrs({
       intlang: "1",
       intlvl: "",
       intchance: "",
       intmax: "",
       intimm: ""
     });
     break;
      case "5":
     setAttrs({
       intlang: "1",
       intlvl: "",
       intchance: "",
       intmax: "",
       intimm: ""
     });
     break;
      case "6":
     setAttrs({
       intlang: "1",
       intlvl: "",
       intchance: "",
       intmax: "",
       intimm: ""
     });
     break;
      case "7":
     setAttrs({
       intlang: "1",
       intlvl: "",
       intchance: "",
       intmax: "",
       intimm: ""
     });
     break;
      case "8":
     setAttrs({
       intlang: "1",
       intlvl: "",
       intchance: "",
       intmax: "",
       intimm: ""
     });
     break;
      case "9":
     setAttrs({
       intlang: "2",
       intlvl: "4th",
       intchance: "35",
       intmax: "6",
       intimm: ""
     });
     break;
      case "10":
     setAttrs({
       intlang: "2",
       intlvl: "5th",
       intchance: "40",
       intmax: "7",
       intimm: ""
     });
     break;
      case "11":
     setAttrs({
       intlang: "2",
       intlvl: "5th",
       intchance: "45",
       intmax: "7",
       intimm: ""
     });
     break;
      case "12":
     setAttrs({
       intlang: "3",
       intlvl: "6th",
       intchance: "50",
       intmax: "7",
       intimm: ""
     });
     break;
      case "13":
     setAttrs({
       intlang: "3",
       intlvl: "6th",
       intchance: "55",
       intmax: "9",
       intimm: ""
     });
     break;
      case "14":
     setAttrs({
       intlang: "4",
       intlvl: "7th",
       intchance: "60",
       intmax: "9",
       intimm: ""
     });
     break;
      case "15":
     setAttrs({
       intlang: "4",
       intlvl: "7th",
       intchance: "65",
       intmax: "11",
       intimm: ""
     });
     break;
      case "16":
     setAttrs({
       intlang: "5",
       intlvl: "8th",
       intchance: "70",
       intmax: "11",
       intimm: ""
     });
     break;
      case "17":
     setAttrs({
       intlang: "6",
       intlvl: "8th",
       intchance: "75",
       intmax: "14",
       intimm: ""
     });
     break;
      case "18":
     setAttrs({
       intlang: "7",
       intlvl: "9th",
       intchance: "85",
       intmax: "18",
       intimm: ""
     });
     break;
      case "19":
     setAttrs({
       intlang: "8",
       intlvl: "9th",
       intchance: "95",
       intmax: "All",
       intimm: "1st lvl Illusion"
     });
     break;
      case "20":
     setAttrs({
       intlang: "9",
       intlvl: "9th",
       intchance: "96",
       intmax: "All",
       intimm: "1st & 2nd lvl Illusion"
     });
     break;
      case "21":
     setAttrs({
       intlang: "10",
       intlvl: "9th",
       intchance: "97",
       intmax: "All",
       intimm: "1st-3th lvl Illusion"
     });
     break;
      case "22":
     setAttrs({
       intlang: "11",
       intlvl: "9th",
       intchance: "98",
       intmax: "All",
       intimm: "1st-4th lvl Illusion"
     });
     break;
      case "23":
     setAttrs({
       intlang: "12",
       intlvl: "9th",
       intchance: "99",
       intmax: "All",
       intimm: "1st-5th lvl Illusion"
     });
     break;
      case "24":
     setAttrs({
       intlang: "15",
       intlvl: "9th",
       intchance: "100",
       intmax: "All",
       intimm: "1st-6th lvl Illusion"
     });
     break;
      case "25":
     setAttrs({
       intlang: "20",
       intlvl: "9th",
       intchance: "100",
       intmax: "All",
       intimm: "1st-7th lvl Illusion"
     });
     break;
      default: // if not a number or not between 0 and 26 set everything to 0
     setAttrs({
       intlang: "",
       intlvl: "",
       intchance: "",
       intmax: "",
       intimm: "",
       intnotes: "INVALID INT"
     });
     break;
    } //end switch
     }); //end getAttrs
    }); //end on("change:Intelligence")
    //Set attributes based on Wisdom
    on("change:Wisdom", function() {
     getAttrs(["Wisdom"], function(values) {
    switch (values.Wisdom) {
      case "1":
     setAttrs({
       wisdef: "-6",
       wisbonus: "None",
       wisfail: "80",
       wisimm: ""
     });
     break;
      case "2":
     setAttrs({
       wisdef: "-4",
       wisbonus: "None",
       wisfail: "60",
       wisimm: ""
     });
     break;
      case "3":
     setAttrs({
       wisdef: "-3",
       wisbonus: "None",
       wisfail: "50",
       wisimm: ""
     });
     break;
      case "4":
     setAttrs({
       wisdef: "-2",
       wisbonus: "None",
       wisfail: "45",
       wisimm: ""
     });
     break;
      case "5":
     setAttrs({
       wisdef: "-1",
       wisbonus: "None",
       wisfail: "40",
       wisimm: ""
     });
     break;
      case "6":
     setAttrs({
       wisdef: "-1",
       wisbonus: "None",
       wisfail: "35",
       wisimm: ""
     });
     break;
      case "7":
     setAttrs({
       wisdef: "-1",
       wisbonus: "None",
       wisfail: "30",
       wisimm: ""
     });
     break;
      case "8":
     setAttrs({
       wisdef: "+0",
       wisbonus: "None",
       wisfail: "25",
       wisimm: ""
     });
     break;
      case "9":
     setAttrs({
       wisdef: "+0",
       wisbonus: "None",
       wisfail: "20",
       wisimm: ""
     });
     break;
      case "10":
     setAttrs({
       wisdef: "+0",
       wisbonus: "None",
       wisfail: "15",
       wisimm: ""
     });
     break;
      case "11":
     setAttrs({
       wisdef: "+0",
       wisbonus: "None",
       wisfail: "10",
       wisimm: ""
     });
     break;
      case "12":
     setAttrs({
       wisdef: "+0",
       wisbonus: "None",
       wisfail: "05",
       wisimm: ""
     });
     break;
      case "13":
     setAttrs({
       wisdef: "+0",
       wisbonus: "1",
       wisfail: "+0",
       wisimm: ""
     });
     break;
      case "14":
     setAttrs({
       wisdef: "+0",
       wisbonus: "1,1",
       wisfail: "+0",
       wisimm: ""
     });
     break;
      case "15":
     setAttrs({
       wisdef: "+1",
       wisbonus: "1,1,2",
       wisfail: "+0",
       wisimm: ""
     });
     break;
      case "16":
     setAttrs({
       wisdef: "+2",
       wisbonus: "1,1,2,2",
       wisfail: "+0",
       wisimm: ""
     });
     break;
      case "17":
     setAttrs({
       wisdef: "+3",
       wisbonus: "1,1,2,2,3",
       wisfail: "+0",
       wisimm: ""
     });
     break;
      case "18":
     setAttrs({
       wisdef: "+4",
       wisbonus: "1,1,2,2,3,4",
       wisfail: "+0",
       wisimm: ""
     });
     break;
      case "19":
     setAttrs({
       wisdef: "+4",
       wisbonus: "1x3,2x2,3x2,4",
       wisfail: "+0",
       wisimm: "cause fear, charm person, command, friends, hypnotism"
     });
     break;
      case "20":
     setAttrs({
       wisdef: "+4",
       wisbonus: "1x3,2x3,3x2,4x2",
       wisfail: "+0",
       wisimm: "forget, hold person, ray of enfeeblement, scare"
     });
     break;
      case "21":
     setAttrs({
       wisdef: "+4",
       wisbonus: "1x3,2x3,3x3,4x2,5",
       wisfail: "+0",
       wisimm: "fear"
     });
     break;
      case "22":
     setAttrs({
       wisdef: "+4",
       wisbonus: "1x3,2x3,3x3,4x3,5x2",
       wisfail: "+0",
       wisimm: "charm monster, confusion, emotion, fumble, suggestion"
     });
     break;
      case "23":
     setAttrs({
       wisdef: "+4",
       wisbonus: "1x4,2x3,3x3,4x3,5x2,6",
       wisfail: "+0",
       wisimm: "chaos, feeblemind, hold monster, magic jar, quest"
     });
     break;
      case "24":
     setAttrs({
       wisdef: "+4",
       wisbonus: "1x4,2x3,3x3,4x3,5x3,6x2",
       wisfail: "+0",
       wisimm: "geas, mass suggestion, rod of rulership"
     });
     break;
      case "25":
     setAttrs({
       wisdef: "+4",
       wisbonus: "1x4,2x3,3x3,4x3,5x3,6x3,7",
       wisfail: "+0",
       wisimm: "antipathy/sympathy, death spell, mass charm"
     });
     break;
      default: // if not a number or not between 0 and 26 set everything to 0
     setAttrs({
       wisdef: "+0",
       wisbonus: "",
       wisfail: "+0",
       wisimm: "",
       wisnotes: "INVALID WIS"
     });
     break;
    } //end switch
     }); //end getAttrs
    }); //end on("change:Wisdom")
    //Set attributes based on Charisma
    on("change:Charisma", function() {
     getAttrs(["Charisma"], function(values) {
    switch (values.Charisma) {
      case "1":
     setAttrs({
       chamax: "+0",
       chaloy: "-8",
       chareact: "-7"
     });
     break;
      case "2":
     setAttrs({
       chamax: "1",
       chaloy: "-7",
       chareact: "-6"
     });
     break;
      case "3":
     setAttrs({
       chamax: "1",
       chaloy: "-6",
       chareact: "-5"
     });
     break;
      case "4":
     setAttrs({
       chamax: "1",
       chaloy: "-5",
       chareact: "-4"
     });
     break;
      case "5":
     setAttrs({
       chamax: "2",
       chaloy: "-4",
       chareact: "-3"
     });
     break;
      case "6":
     setAttrs({
       chamax: "2",
       chaloy: "-3",
       chareact: "-2"
     });
     break;
      case "7":
     setAttrs({
       chamax: "3",
       chaloy: "-2",
       chareact: "-1"
     });
     break;
      case "8":
     setAttrs({
       chamax: "3",
       chaloy: "-1",
       chareact: "+0"
     });
     break;
      case "9":
     setAttrs({
       chamax: "4",
       chaloy: "+0",
       chareact: "+0"
     });
     break;
      case "10":
     setAttrs({
       chamax: "4",
       chaloy: "+0",
       chareact: "+0"
     });
     break;
      case "11":
     setAttrs({
       chamax: "4",
       chaloy: "+0",
       chareact: "+0"
     });
     break;
      case "12":
     setAttrs({
       chamax: "5",
       chaloy: "+0",
       chareact: "+0"
     });
     break;
      case "13":
     setAttrs({
       chamax: "5",
       chaloy: "+0",
       chareact: "+1"
     });
     break;
      case "14":
     setAttrs({
       chamax: "6",
       chaloy: "+1",
       chareact: "+2"
     });
     break;
      case "15":
     setAttrs({
       chamax: "7",
       chaloy: "+3",
       chareact: "+3"
     });
     break;
      case "16":
     setAttrs({
       chamax: "8",
       chaloy: "+4",
       chareact: "+5"
     });
     break;
      case "17":
     setAttrs({
       chamax: "10",
       chaloy: "+6",
       chareact: "+6"
     });
     break;
      case "18":
     setAttrs({
       chamax: "15",
       chaloy: "+8",
       chareact: "+7"
     });
     break;
      case "19":
     setAttrs({
       chamax: "20",
       chaloy: "+10",
       chareact: "+8"
     });
     break;
      case "20":
     setAttrs({
       chamax: "25",
       chaloy: "+12",
       chareact: "+9"
     });
     break;
      case "21":
     setAttrs({
       chamax: "30",
       chaloy: "+14",
       chareact: "+10"
     });
     break;
      case "22":
     setAttrs({
       chamax: "35",
       chaloy: "+16",
       chareact: "+11"
     });
     break;
      case "23":
     setAttrs({
       chamax: "40",
       chaloy: "+18",
       chareact: "+12"
     });
     break;
      case "24":
     setAttrs({
       chamax: "45",
       chaloy: "+20",
       chareact: "+13"
     });
     break;
      case "25":
     setAttrs({
       chamax: "50",
       chaloy: "+20",
       chareact: "+14"
     });
     break;
      default: // if not a number or not between 0 and 26 set everything to 0
     setAttrs({
       chamax: "+0",
       chaloy: "+0",
       chareact: "+0",
       chanotes: "INVALID CHA"
     });
     break;
    } //end switch
     }); //end getAttrs
    }); //end on("change:Charisma")

  /* Encumbrance weights will be rounded to two decimals */
  function round(num) {
    return Math.round(num * 100) / 100;
  }

  /* Sort out on-person and in-stash weight */
  /* Relatively expensive to iterate through all gear each time any changes are made, so update everything within a single iteration at cost of readability */
	on('change:repeating_gear:gearquantity change:repeating_gear:gearweigh change:repeating_gear:stashed', function(){
		TAS.repeating('gear')
			.fields('gearquantity','gearweigh','geartotal','stashed')
			.reduce(function(m,r){
        r.geartotal = round(r.F.gearquantity * r.F.gearweigh);
        if (r.stashed == 1) {
          m.in_stash_weight += r.geartotal;
        } else {
          m.on_person_weight += r.geartotal;
        }
				return m;
			},{on_person_weight:0,in_stash_weight:0},function(m,r,a){
        setAttrs({on_person_weight_total: (m.on_person_weight)});
        setAttrs({in_stash_weight_total: (m.in_stash_weight)});
			})
			.execute();
	});

  /* Sort out on-person currency weight */
	on('change:copp change:silv change:elec change:gold change:plat', function(){
    getAttrs(["copp", "silv", "elec", "gold", "plat"], function(values) {
      let total_coins = 0;
      for (let coin in values) {
        total_coins += parseInt(values[coin]);
      }
      const weight_of_coin = 0.02;
      setAttrs({currency_weight: Math.ceil(total_coins * weight_of_coin)});
    });
  });

  /* Sort out in-stash currency weight */
	on('change:stash_copp change:stash_silv change:stash_elec change:stash_gold change:stash_plat', function(){
    getAttrs(["stash_copp", "stash_silv", "stash_elec", "stash_gold", "stash_plat"], function(values) {
      let total_coins = 0;
      for (let coin in values) {
        total_coins += parseInt(values[coin]);
      }
      const weight_of_coin = 0.02;
      setAttrs({stash_currency_weight: Math.ceil(total_coins * weight_of_coin)});
    });
  });

  /* Calculate running experience total for class A */
  on('change:repeating_experienceA:xp_item_amountA', function() {
    TAS.repeating('experienceA')
      .fields('xp_item_amountA')
      .reduce(function(m,r){
        m.xp += parseInt(r.xp_item_amountA);
        return m;
      },{xp:0},function(m,r,a) {
        setAttrs({xp_item_totalA: (m.xp)});
    })
    .execute();
  });

  /* Calculate prime requisite experience total */
  on("change:xp_item_totalA change:xp_prime_requisite_multiplierA", function() {
    getAttrs(["xp_item_totalA", "xp_prime_requisite_multiplierA"], function(values) {
      setAttrs({xp_prime_requisite_totalA: Math.round(parseInt(values.xp_item_totalA) * (1 + parseInt(values.xp_prime_requisite_multiplierA) / 100))});
    });
  });

  /* Calculate running experience total for class B*/
  on('change:repeating_experienceB:xp_item_amountB', function() {
    TAS.repeating('experienceB')
      .fields('xp_item_amountB')
      .reduce(function(m,r){
        m.xp += parseInt(r.xp_item_amountB);
        return m;
      },{xp:0},function(m,r,a) {
        setAttrs({xp_item_totalB: (m.xp)});
    })
    .execute();
  });

  /* Calculate prime requisite experience total for class B */
  on("change:xp_item_totalB change:xp_prime_requisite_multiplierB", function() {
    getAttrs(["xp_item_totalB", "xp_prime_requisite_multiplierB"], function(values) {
      setAttrs({xp_prime_requisite_totalB: Math.round(parseInt(values.xp_item_totalB) * (1 + parseInt(values.xp_prime_requisite_multiplierB) / 100))});
    });
  });

  /* Transfer currency from person to stash */
  on("clicked:currency_from_person_to_stash", function() {
    console.log("Sending currency down");
    getAttrs(["copp", "silv", "elec", "gold", "plat","coin_transfer_amount", "coin_transfer_currency", "stash_copp", "stash_silv", "stash_elec", "stash_gold", "stash_plat"], function(values) {
      const transfer_amount = parseInt(values.coin_transfer_amount);
      switch(values.coin_transfer_currency) {
        case "Copper":
          if (transfer_amount <= parseInt(values.copp)) {
            setAttrs({copp:(values.copp - transfer_amount)});
            setAttrs({stash_copp: (parseInt(values.stash_copp) + transfer_amount)});
          }
          break;
        case "Silver":
          if (transfer_amount <= parseInt(values.silv)) {
            setAttrs({silv:(values.silv - transfer_amount)});
            setAttrs({stash_silv: (parseInt(values.stash_silv) + transfer_amount)});
          }
          break;
        case "Electrum":
          if (transfer_amount <= parseInt(values.elec)) {
            setAttrs({elec:(values.elec - transfer_amount)});
            setAttrs({stash_elec: (parseInt(values.stash_elec) + transfer_amount)});
          }
          break;
        case "Gold":
          if (transfer_amount <= parseInt(values.gold)) {
            setAttrs({gold:(values.gold - transfer_amount)});
            setAttrs({stash_gold: (parseInt(values.stash_gold) + transfer_amount)});
          }
          break;
        case "Platinum":
          if (transfer_amount <= parseInt(values.plat)) {
            setAttrs({plat:(values.plat - transfer_amount)});
            setAttrs({stash_plat: (parseInt(values.stash_plat) + transfer_amount)});
          }
          break;
        default:
          console.log("Person -> Stash switch failure.");
      }
    });
  });

  /* Transfer currency from stash to person */
  on("clicked:currency_from_stash_to_person", function() {
    getAttrs(["copp", "silv", "elec", "gold", "plat","coin_transfer_amount", "coin_transfer_currency", "stash_copp", "stash_silv", "stash_elec", "stash_gold", "stash_plat"], function(values) {
      const transfer_amount = parseInt(values.coin_transfer_amount);
      switch(values.coin_transfer_currency) {
        case "Copper":
          if (transfer_amount <= parseInt(values.stash_copp)) {
            setAttrs({stash_copp:(values.stash_copp - transfer_amount)});
            setAttrs({copp: (parseInt(values.copp) + transfer_amount)});
          }
          break;
        case "Silver":
          if (transfer_amount <= parseInt(values.stash_silv)) {
            setAttrs({stash_silv:(values.stash_silv - transfer_amount)});
            setAttrs({silv: (parseInt(values.silv) + transfer_amount)});
          }
          break;
        case "Electrum":
          if (transfer_amount <= parseInt(values.stash_elec)) {
            setAttrs({stash_elec:(values.stash_elec - transfer_amount)});
            setAttrs({elec: (parseInt(values.elec) + transfer_amount)});
          }
          break;
        case "Gold":
          if (transfer_amount <= parseInt(values.stash_gold)) {
            setAttrs({stash_gold:(values.stash_gold - transfer_amount)});
            setAttrs({gold: (parseInt(values.gold) + transfer_amount)});
          }
          break;
        case "Platinum":
          if (transfer_amount <= parseInt(values.stash_plat)) {
            setAttrs({stash_plat:(values.stash_plat - transfer_amount)});
            setAttrs({plat: (parseInt(values.plat) + transfer_amount)});
          }
          break;
        default:
          console.log("Stash -> Person switch failure.");
      }
    });
  });

  /* Handle temporary Bless buff */
  on('change:temp_bless', function() {
    getAttrs(["temp_bless","temp_attack"], function(values) {
      if (values.temp_bless == 1) {
        setAttrs({temp_attack: parseInt(values.temp_attack) + 1});
      } else {
        setAttrs({temp_attack: parseInt(values.temp_attack) - 1});
      }
    });
  });

  /* Handle temporary Aid buff */
  on('change:temp_aid', function() {
    getAttrs(["temp_aid","temp_attack","temp_saving_throws"], function(values) {
      if (values.temp_aid == 1) {
        setAttrs({temp_attack: parseInt(values.temp_attack) + 1});
        setAttrs({temp_saving_throws: parseInt(values.temp_saving_throws) + 1});
      } else {
        setAttrs({temp_attack: parseInt(values.temp_attack) - 1});
        setAttrs({temp_saving_throws: parseInt(values.temp_saving_throws) - 1});
      }
    });
  });

  /* Handle temporary Chant buff */
  on('change:temp_chant', function() {
    getAttrs(["temp_chant","temp_attack","temp_damage","temp_saving_throws"], function(values) {
      if (values.temp_chant == 1) {
        setAttrs({temp_attack: parseInt(values.temp_attack) + 1});
        setAttrs({temp_damage: parseInt(values.temp_damage) + 1});
        setAttrs({temp_saving_throws: parseInt(values.temp_saving_throws) + 1});
      } else {
        setAttrs({temp_attack: parseInt(values.temp_attack) - 1});
        setAttrs({temp_damage: parseInt(values.temp_damage) - 1});
        setAttrs({temp_saving_throws: parseInt(values.temp_saving_throws) - 1});
      }
    });
  });

  /* Handle temporary Prayer buff */
  on('change:temp_prayer', function() {
    getAttrs(["temp_prayer","temp_attack","temp_damage","temp_saving_throws"], function(values) {
      if (values.temp_prayer == 1) {
        setAttrs({temp_attack: parseInt(values.temp_attack) + 1});
        setAttrs({temp_damage: parseInt(values.temp_damage) + 1});
        setAttrs({temp_saving_throws: parseInt(values.temp_saving_throws) + 1});
      } else {
        setAttrs({temp_attack: parseInt(values.temp_attack) - 1});
        setAttrs({temp_damage: parseInt(values.temp_damage) - 1});
        setAttrs({temp_saving_throws: parseInt(values.temp_saving_throws) - 1});
      }
    });
  });

  /* Handle temporary Recitation buff (our players are never same faith for +3 buff) */
  on('change:temp_recitation', function() {
    getAttrs(["temp_recitation","temp_attack","temp_damage","temp_saving_throws"], function(values) {
      if (values.temp_recitation == 1) {
        setAttrs({temp_attack: parseInt(values.temp_attack) + 2});
        setAttrs({temp_damage: parseInt(values.temp_damage) + 2});
        setAttrs({temp_saving_throws: parseInt(values.temp_saving_throws) + 2});
      } else {
        setAttrs({temp_attack: parseInt(values.temp_attack) - 2});
        setAttrs({temp_damage: parseInt(values.temp_damage) - 2});
        setAttrs({temp_saving_throws: parseInt(values.temp_saving_throws) - 2});
      }
    });
  });

  /* Handle temporary Faerie Fire buff */
  on('change:temp_faerie_fire', function() {
    getAttrs(["temp_faerie_fire","temp_faerie_fire_bonus","temp_attack"], function(values) {
      if (values.temp_faerie_fire == 1) {
        setAttrs({temp_attack: parseInt(values.temp_attack) + parseInt(values.temp_faerie_fire_bonus)});
      } else {
        setAttrs({temp_attack: parseInt(values.temp_attack) - parseInt(values.temp_faerie_fire_bonus)});
      }
    });
  });

  /* Handle temporary Haste buff */
  on('change:temp_haste', function() {
    getAttrs(["temp_haste","temp_initiative"], function(values) {
      if (values.temp_haste == 1) {
        setAttrs({temp_initiative: parseInt(values.temp_initiative) - 2})
      } else {
        setAttrs({temp_initiative: parseInt(values.temp_initiative) + 2})
      }
    });
  });

  /* Handle temporary Bard Attack buff */
  on('change:temp_bard_attack', function() {
    getAttrs(["temp_bard_attack","temp_attack"], function(values) {
      if (values.temp_bard_attack == 1) {
        setAttrs({temp_attack: parseInt(values.temp_attack) + 1});
      } else {
        setAttrs({temp_attack: parseInt(values.temp_attack) - 1});
      }
    });
  });

  /* Handle temporary Bard Saving Throws buff */
  on('change:temp_bard_save', function() {
    getAttrs(["temp_bard_save","temp_saving_throws"], function(values) {
      if (values.temp_bard_save == 1) {
        setAttrs({temp_saving_throws: parseInt(values.temp_saving_throws) + 1});
      } else {
        setAttrs({temp_saving_throws: parseInt(values.temp_saving_throws) - 1});
      }
    });
  });

  /* Handle Enlarge buff */
  on('change:temp_enlarge change:temp_enlarge_level', function() {
    getAttrs(["temp_enlarge","temp_enlarge_level"], function(values) {
      setAttrs({enlarge_bonus: 1 + (parseInt(values.temp_enlarge) * parseInt(values.temp_enlarge_level) / 10)});
    });
  });

</script>